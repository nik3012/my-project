function kpi_uncontrolled = bmmo_parse_kpi_rep_uncontrolled(kpi_rep_uncontrolled)
%
% function kpi_input = bmmo_parse_kpi_rep_input(kpi_rep_uncontrolled)
%
%Given the Uncontrolled input KPIs from the OTAS job report, parse the
%contents into a BMMO-NXE kpi structure
% Input:
%   kpi_rep_uncontrolled  : Uncontrolled input KPIs from the job report
% 
% Output:
%   kpi_input :  KPI Uncontrolled overlay structure as generated by
%   BMMO model
%
% Changelog
% 20171030 SBPR Creation

kpi_uncontrolled.waferheating.ovl_exp_grid_dx_whc_uncontrolled =  str2double(kpi_rep_uncontrolled.WaferHeating.Delta.X.Value) * 1e-9;
kpi_uncontrolled.waferheating.ovl_exp_grid_dy_whc_uncontrolled =  str2double(kpi_rep_uncontrolled.WaferHeating.Delta.Y.Value) * 1e-9;

kpi_uncontrolled.overlay = bmmo_parse_kpi_overlay(kpi_rep_uncontrolled.ExposureGrid);

kpi_uncontrolled.intrafield = bmmo_parse_kpi_overlay(kpi_rep_uncontrolled.IntraField);

kpi_uncontrolled.intrafield = bmmo_parse_kpi_ho_rep(kpi_uncontrolled.intrafield, kpi_rep_uncontrolled.HoParameters);

if isfield(kpi_rep_uncontrolled,'IntraFieldAveragedColumn')
    kpi_uncontrolled.intrafield.ovl_ripple_3s_chk1 = str2double(kpi_rep_uncontrolled.IntraFieldAveragedColumn.StDev3.Y.Chuck1) * 1e-9;
    kpi_uncontrolled.intrafield.ovl_ripple_3s_chk2 = str2double(kpi_rep_uncontrolled.IntraFieldAveragedColumn.StDev3.Y.Chuck2) * 1e-9;
end