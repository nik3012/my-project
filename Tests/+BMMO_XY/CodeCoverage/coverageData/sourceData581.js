var sourceData581 = {"FileContents":["function [input_struct, bar_struct, sbc_out, job_report, invalids, wdm_xml] = bmmo_read_lcp_zip(zip_path, filter, bar_struct)\r","% function [input_struct, bar_struct, sbc_out, job_report, invalids, wdm_xml] = bmmo_read_lcp_zip(zip_path, filter, bar_struct)\r","%\r","% Read a zip file created by an LCP/VCP BMMO-NXE job (recover to baseline or\r","% control to baseline), recreating the BMMO-NXE Matlab input structure.\r","% The function uses bmmo_read_lcp_output to create the actual output\r","%\r","% Input: zip_path: full path of zip file\r","%\r","% Optional Input:\r","%   filter: flag to determine filtering type\r","%       0: recover to baseline\r","%       1: control to baseline\r","%       2: from LCP/VCP job report (default)\r","%\r","% Output:\r","%   input_struct: recreating Matlab input structure as generated by LCP/VCP\r","%   bar_struct: updated bar struct or []\r","%   sbc_out   : SBC corrections from recipe\r","%   job_report: LCP/VCP job report\r","%   invalids  : Invalidated data (may not be produced for VCP)\r","%\r","% Optional output:\r","%   wdm_xml   : xml loaded ADELwaferdatamap\r","%\r","% Note on the job_report:\r","% use the bmmo_parse_kpi* functions to get the kpi values. This will:\r","% * convert the text to numerical values\r","% * for OTAS data: field names like 'Max99.7' converted to something that \r","%   Matlab can handle properly. That is, the 99.7 part is translated to a \r","%   name with _997 in it.\r","% See e.g. bmmo_parse_kpi_res.m how this is done.\r","\r","\r","if nargin < 2\r","%Using time filter from LCP job report\r","    filter = 2;\r","end\r","\r","if nargin < 3\r","    bar_struct = [];\r","end\r","\r","tmpdir = [tempname '_LCP_ZIP'];\r","mkdir(tmpdir);\r","cleanupTempDir = onCleanup(@()rmdir(tmpdir, 's'));\r","\r","input_struct = 0;\r","\r","try     \r","    bar_struct = bmmo_log_progress(['Unzipping ' zip_path], bar_struct);\r","    unzip7(zip_path, tmpdir);\r","    \r","    if nargout > 5\r","        [input_struct, sbc_out, job_report, invalids, bar_struct, wdm_xml] = bmmo_read_lcp_output(tmpdir, tmpdir, filter, bar_struct);\r","    else\r","        [input_struct, sbc_out, job_report, invalids, bar_struct]          = bmmo_read_lcp_output(tmpdir, tmpdir, filter, bar_struct);\r","    end\r","        \r","     bar_struct = bmmo_log_progress(['Parsing completed.',newline], bar_struct);\r","\r","catch read_err\r","   disp(read_err);\r","   rethrow(read_err);\r","end\r","\r","\r",""],"CoverageData":{"CoveredLineNumbers":[35,37,40,41,44,45,46,48,50,51,52,54,56,57,60],"UnhitLineNumbers":[55,62,63,64],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,0,0,4,4,0,0,4,4,4,0,4,0,4,4,4,0,4,0,4,4,0,0,4,0,0,0,0,0,0,0,0]}}