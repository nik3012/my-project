var sourceData368 = {"FileContents":["function kpi_ovl = bmmo_parse_clamp_pi_lis(kpi_rep1, kpi_rep2, mode)\r","%\r","% function kpi_ovl = bmmo_parse_clamp_pi_lis(kpi_rep1, kpi_rep2)\r","%\r","%Given the clamp statistics from the LIS job report, parse the\r","%contents into a BMMO-NXE kpi structure\r","% Input:\r","%   kpi_rep1:  Clamp Stats  Chuck 1 from the job report\r","%   kpi_rep2:  Clamp Stats  Chuck 2 from the job report\r","%   mode       : 'controlled' for parsing controlled clamp KPIs\r","%              : 'correction' for parsing correction clamp KPIs\r","%              : 'uncontrolled' for parsing uncontrolled clamp KPIs\r","%\r","% Output:\r","%   kpi_ovl :  KPI structure as generated by BMMO model\r","\r","% mapping table from kpi rep\r","kpi_rep_map = {'Max', ...\r","    'Max99.7', ...\r","    'M3s', ...\r","    'StDev3', ...\r","    'Mean', ...\r","    'Median', ...\r","    'X', ...\r","    'Y'};\r","\r","rep_type = {'KaCapturedOuterMetrics', 'KaCapturedEdgeRadialMetrics',...\r","    'OuterMetrics','EdgeRadialMetrics' 'InnerMetrics' ...\r","    'EdgeRadialInwardMetrics'};\r","\r","% mapping table from kpi out\r","kpi_ovl_map = {'max', ...\r","    '997', ...\r","    'm3s', ...\r","    '3std', ...\r","    'mean', ...\r","    'median', ...\r","    'x', ...\r","    'y'};\r","\r","kpi_chuck = { 'chk1', 'chk2'};\r","ovl_type = {'outer', 'radial','outer', 'radial', 'inner', 'radial_inward'};\r","\r","dim_index =  7:8;\r","% select metrics based on mode\r","if strcmp(mode, 'controlled')\r","    metric = [3, 5];\r","    radial_metric = 4;\r","elseif strcmp(mode, 'uncontrolled')\r","    radial_metric = [4 6];\r","elseif strcmp(mode, 'modelled')\r","    metric = 1;\r","    radial_metric = 2;\r","end\r","\r","if strcmp(mode, 'controlled') || strcmp(mode, 'modelled')\r","    for imetric = metric\r","        for istat = 1:4\r","            for idim = dim_index\r","                \r","                datastr{1} =  kpi_rep1.(rep_type{imetric}).(kpi_rep_map{istat}).(kpi_rep_map{idim});\r","                datastr{2} =  kpi_rep2.(rep_type{imetric}).(kpi_rep_map{istat}).(kpi_rep_map{idim});\r","                \r","                for ichuck = 1:2\r","                    fieldname = ['ovl_' ovl_type{imetric} '_' kpi_chuck{ichuck} '_' kpi_ovl_map{istat} '_' kpi_ovl_map{idim}];\r","                    kpi_ovl.(fieldname) = str2double(datastr{ichuck}) * 1e-9;\r","                end\r","            end\r","        end\r","    end\r","end\r","\r","for imetric = radial_metric\r","    for istat = 5:6\r","        datastr{1} =  kpi_rep1.(rep_type{imetric}).(kpi_rep_map{istat});\r","        datastr{2} =  kpi_rep2.(rep_type{imetric}).(kpi_rep_map{istat});\r","        \r","        for ichuck = 1:2\r","            fieldname = ['ovl_'  ovl_type{imetric} '_' kpi_chuck{ichuck} '_' kpi_ovl_map{istat}];\r","            kpi_ovl.(fieldname) = str2double(datastr{ichuck}) * 1e-9;\r","        end\r","    end\r","end\r","\r","\r",""],"CoverageData":{"CoveredLineNumbers":[18,27,32,41,42,44,46,47,48,49,50,51,52,53,56,57,58,59,61,62,64,65,66,73,74,75,76,78,79,80],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,0,3,3,0,3,0,3,1,1,2,1,1,1,1,0,0,3,2,3,12,0,24,24,0,24,48,48,0,0,0,0,0,0,3,4,8,8,0,8,16,16,0,0,0,0,0,0]}}