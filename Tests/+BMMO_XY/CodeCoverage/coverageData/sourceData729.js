var sourceData729 = {"FileContents":["\r","function ml_tmp = bmmo_bad_bao_input\r","% Generate a valid bmmo_nxe input with significantly different BAO content\r","% for 7x7, edge and dense intrafields\r","\r","\r","mli = bmmo_default_input;\r","\r","[mlp, options] = bmmo_process_input(mli);\r","\r","% get empty template\r","ml_tmp = ovl_create_dummy(mlp);\r","\r","% get nanmap\r","nanmap = isnan(mlp.layer.wr(1).dx) | isnan(mlp.layer.wr(1).dy);\r","\r","% get the edges only\r","ml_edge = ovl_create_dummy(ovl_get_fields(mlp, [options.fid_left_right_edgefield options.fid_top_bottom_edgefield]));\r","\r","% get 7x7 downsampled input\r","ml7 = ovl_create_dummy(ovl_get_layout(mlp, '7x7'));\r","\r","% get inner fields\r","ml_inner = ovl_create_dummy(bmmo_get_innerfields(mlp, options));\r","\r","ml_intra = ovl_create_dummy(ovl_get_fields(mlp, options.fid_intrafield));\r","\r","edgebao = sub_assign_baos([-1e-9, -1e-9, 0, 0, 0, 0, 5e-8, -5e-8, 0, 0]);\r","sevenbao = sub_assign_baos([2e-9, 2e-9, 1e-7, -1e-7, 2e-7, -2e-7, 0, 0, 0, 0]);\r","innerbao = sub_assign_baos([0, 0, 0, 0, 0, 0, 0, 0, 2e-8, -2e-8]);\r","intrabao = sub_assign_baos([-3e-9, 3e-9, 1e-8, -1e-8, 3e-7, -3e-7, 0, 0, 0, 0]);\r","\r","ml_edge = ovl_model(ml_edge, 'apply', edgebao);\r","ml7 = ovl_model(ml7, 'apply', sevenbao);\r","ml_inner = ovl_model(ml_inner, 'apply', innerbao);\r","ml_intra= ovl_model(ml_intra, 'apply', intrabao);\r","\r","xy = [ml_tmp.wd.xw ml_tmp.wd.yw];\r","\r","emap = knnsearch(xy, [ml_edge.wd.xw ml_edge.wd.yw]);\r","smap = knnsearch(xy, [ml7.wd.xw ml7.wd.yw]);\r","imap = knnsearch(xy, [ml_inner.wd.xw ml_inner.wd.yw]);\r","inmap = knnsearch(xy, [ml_intra.wd.xw ml_intra.wd.yw]);\r","\r","for iw = 1:ml_tmp.nwafer\r","    ml_tmp.layer.wr(iw).dx(emap) = ml_edge.layer.wr(iw).dx;\r","    ml_tmp.layer.wr(iw).dy(emap) = ml_edge.layer.wr(iw).dy;\r","    ml_tmp.layer.wr(iw).dx(inmap) = ml_intra.layer.wr(iw).dx;\r","    ml_tmp.layer.wr(iw).dy(inmap) = ml_intra.layer.wr(iw).dy;\r","    ml_tmp.layer.wr(iw).dx(smap) = ml7.layer.wr(iw).dx;\r","    ml_tmp.layer.wr(iw).dy(smap) = ml7.layer.wr(iw).dy;\r","%   ml_tmp.layer.wr(iw).dx(imap) = ml_inner.layer.wr(iw).dx;\r","%   ml_tmp.layer.wr(iw).dy(imap) = ml_inner.layer.wr(iw).dy;\r","    ml_tmp.layer.wr(iw).dx(nanmap) = nan;\r","    ml_tmp.layer.wr(iw).dy(nanmap) = nan;\r","end\r","    \r","ml_tmp = bmmo_convert_to_smf(ml_tmp);\r","ml_tmp.wd = mli.wd;\r","ml_tmp.info = mli.info;\r","ml_tmp.expinfo = mli.expinfo;\r","ml_tmp.tlgname = '';\r","\r","\r","function bao = sub_assign_baos(vec)\r","\r","fn = {'tx', 'ty', 'ra', 'rs', 'ma', 'ms', 'rwa', 'rws', 'mwa', 'mws'};\r","for ii = 1:length(fn)\r","    bao.(fn{ii}) = vec(ii);\r","end\r","\r","\r","\r","\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[7,9,12,15,18,21,24,26,28,29,30,31,33,34,35,36,38,40,41,42,43,45,46,47,48,49,50,51,54,55,58,59,60,61,62,67,68,69],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}