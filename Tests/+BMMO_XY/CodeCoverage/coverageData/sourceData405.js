var sourceData405 = {"FileContents":["function mlo = bmmo_construct_layout(xc, yc, mark_layout, nlayer, nwafer)\r","% function mlo = bmmo_construct_layout(xc, yc, intrafield_layout)\r","% \r","% Given field centre positions and an intrafield layout, return an empty \r","%   layout structure with the given number of layers and wafers\r","% \r","% Input: xc: nfield * 1 vector of x field centre positions in exposure order\r","%        yc: nfield * 1 vector of y field centre positions in exposure order\r","%        layout: valid intrafield layout for ovl_create_dummy: can be an ml\r","%           structure\r","%        nlayer: number of layers\r","%        nwafer: number of wafers\r","%\r","% Output: mlo: 1 * nlayer layout with field centre coordinates from xc, yc\r","%\r","% 20170519 SBPR Adapted from bmmo_construct_13x19_layout\r","\r","\r","% Create the wd portion of an ml structure based on the field centre\r","% coordinates in expinfo\r","\r","% Use expinfo to construct the xc,yc values\r","mlo.nfield   = length(xc);\r","\r","% Get the intrafield coordinates\r","dummy_wafer = ovl_create_dummy('marklayout', mark_layout, 'nlayer', 1,  'nwafer', 1);\r","dummy_field = ovl_get_fields(dummy_wafer, 1);\r","\r","mlo.nmark    = dummy_field.nmark;\r","mlo.nlayer   = 1;\r","mlo.nwafer   = nwafer;\r","mlo.nlayer   = nlayer;\r","mlo.expinfo.xc = xc;\r","mlo.expinfo.yc = yc;\r","\r","mlo.wd.xc = reshape(repmat(xc, 1, mlo.nmark)',[],1);\r","mlo.wd.yc = reshape(repmat(yc, 1, mlo.nmark)',[],1);\r","mlo.wd.xf = reshape(repmat(dummy_field.wd.xf,[mlo.nfield 1]),[],1);\r","mlo.wd.yf = reshape(repmat(dummy_field.wd.yf,[mlo.nfield 1]),[],1);\r","mlo.wd.xw = mlo.wd.xc + mlo.wd.xf;\r","mlo.wd.yw = mlo.wd.yc + mlo.wd.yf;\r","\r","for il = 1:mlo.nlayer\r","   for iw = 1:mlo.nwafer\r","       mlo.layer(il).wr(iw).dx = NaN * zeros(size(mlo.wd.xw));\r","       mlo.layer(il).wr(iw).dy = mlo.layer(il).wr(iw).dx;\r","   end\r","end\r","\r",""],"CoverageData":{"CoveredLineNumbers":[23,26,27,29,30,31,32,33,34,36,37,38,39,40,41,43,44,45,46],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,886,0,0,886,886,0,886,886,886,886,886,886,0,886,886,886,886,886,886,0,886,886,4690,4690,0,0,0,0]}}