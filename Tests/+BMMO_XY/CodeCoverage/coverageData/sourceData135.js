var sourceData135 = {"FileContents":["function [R_mean, R_median, R_mean_inward, R_median_inward] = bmmo_get_radial_ovl(wdm_clamp, R_edge, R_outer)\r","% function [R_mean, R_median, R_mean_inward, R_median_inward] = bmmo_get_radial_ovl(wdm_clamp, R_edge, R_outer)\r","%\r","% This function calculates the radial projection overlay\r","%\r","% Input:\r","%   wdm_clamp:      WDM with wafer clamp\r","%   R_edge:        Inner radius limit\r","%   R_outer:        Outer radius limit\r","%\r","% Output:\r","%   R_mean:             Radial ovl average\r","%   R_median:           Radial ovl median\r","%   R_mean_inward:      Radial ovl mean inward only\r","%   R_median_inward:    Radial ovl median inward only (SPI KPI)\r","\r","%% Check for R_outer\r","if nargin < 3\r","    R_outer = 0.15; % Take all points, i.e. for measurement data with R>147\r","end\r","if nargin < 2\r","    R_outer = 0.15; % Take all points, i.e. for measurement data with R>147\r","    R_edge = 0.1451;\r","end\r","\r","%% Prepare input data: remove edge and inner points\r","for iC = 1:2\r","    ml_inner = ovl_remove_edge(wdm_clamp(iC), R_outer);\r","    mli(iC) = ovl_remove_inside(ml_inner, R_edge);\r","%     N_pts = sum(~isnan(mli.layer.wr(1).dx));\r","end\r","for iC = 1:2\r","    %% Define mark positions and values.\r","    [xc,yc,xf,yf,dx,dy] = ovl_concat_wafer_results(mli(iC));\r","    xw = xc + xf;\r","    yw = yc + yf;\r","    mark_radii = 1e3.*sqrt(xw.^2 + yw.^2); % mm\r","\r","    %% Define angles, for sign consistency.\r","    angle_o    = zeros(numel(xw),1);\r","    angle_r    = zeros(numel(xw),1);\r","    angle_r(xw >= 0) = 2.*pi;     % quadrants 1 and 4\r","    angle_r(xw <  0) =    pi;     % quadrants 2 and 3\r","    angle_o(dx >= 0) = 2.*pi;\r","    angle_o(dx <  0) =    pi;\r","    angle_r = atan(yw./xw) + angle_r;\r","    angle_o = atan(dy./dx) + angle_o;\r","    angle_final = angle_o - angle_r;\r","\r","    %% Calculate radial overlay\r","    radial_ovl = sqrt(dx.^2 + dy.^2).*cos(angle_final); % This is the overlay projected onto its radial vector, nm\r","    R_mean(iC) = mean(radial_ovl, 'omitnan');\r","    R_median(iC) = median(radial_ovl, 'omitnan');\r","    R_mean_inward(iC) = mean(radial_ovl(radial_ovl<0), 'omitnan');\r","    R_median_inward(iC) = median(radial_ovl(radial_ovl<0), 'omitnan');\r","    % figure; plot(mark_radii, radial_ovl, 'b.');\r","    \r","end\r","\r","end\r",""],"CoverageData":{"CoveredLineNumbers":[18,21,27,28,29,32,34,35,36,37,40,41,42,43,44,45,46,47,48,51,52,53,54,55],"UnhitLineNumbers":[19,22,23],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,366,0,0,366,0,0,0,0,0,366,732,732,0,0,366,0,732,732,732,732,0,0,732,732,732,732,732,732,732,732,732,0,0,732,732,732,732,732,0,0,0,0,0,0]}}