var sourceData411 = {"FileContents":["function mlo = bmmo_fill_layout(ml)\r","% function mlo = bmmo_fill_layout(ml)\r","%\r","% Given an overlay structure with minimal field centre and intrafield coordinate definitions,\r","% (e.g. a raw readout from ADEL metrology) return an equivalent structure with all wafer coordinates defined and \r","% NaN overlay values for the new coordinate positions\r","%\r","% Input:\r","%   ml: overlay structure\r","%\r","% Output:\r","%   mlo: overlay structure with full layout definition\r","%\r","% 20170519 SBPR Added documentation\r","\r","[u_xc_yc, index_c] = unique([ml.wd.xc, ml.wd.yc], 'rows');\r","[u_xf_yf, index_m] = unique([ml.wd.xf, ml.wd.yf], 'rows');\r","\r","ml.nfield = size(u_xc_yc, 1);\r","ml.nmark = size(u_xf_yf, 1);\r","\r","[xcg, xfg] = meshgrid(ml.wd.xc(index_c), ml.wd.xf(index_m));\r","[ycg, yfg] = meshgrid(ml.wd.yc(index_c), ml.wd.yf(index_m));\r","\r","mlo = ml;\r","mlo.wd.xc = xcg(:);\r","mlo.wd.yc = ycg(:);\r","mlo.wd.xf = xfg(:);\r","mlo.wd.yf = yfg(:);\r","mlo.wd.xw = mlo.wd.xc + mlo.wd.xf;\r","mlo.wd.yw = mlo.wd.yc + mlo.wd.yf;\r","\r","newc = [mlo.wd.xw mlo.wd.yw];\r","oldc = [ml.wd.xw ml.wd.yw];\r","\r","I = knnsearch(newc, oldc);\r","\r","for il = 1:mlo.nlayer\r","    for iw = 1:mlo.nwafer\r","        mlo.layer(il).wr(iw).dx = nan * mlo.wd.xc;\r","        mlo.layer(il).wr(iw).dy = nan * mlo.wd.xc;\r","        mlo.layer(il).wr(iw).dx(I) = ml.layer(il).wr(iw).dx;\r","        mlo.layer(il).wr(iw).dy(I) = ml.layer(il).wr(iw).dy;\r","    end\r","end\r","\r","\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[16,17,19,20,22,23,25,26,27,28,29,30,31,33,34,36,38,39,40,41,42,43],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}