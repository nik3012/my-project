var sourceData138 = {"FileContents":["function fps = bmmo_get_sbc_fingerprints(intraf, options, sbc, ff_6p)\r","% function fps = bmmo_get_sbc_fingerprints(intraf, options, sbc, ff_6p)\r","%\r","% This function removes the sbc correction applied during exposure of\r","% monitor lot, for calculation of uncontrolled KPI\r","%\r","% Input:\r","%   intraf:     intrafield correction in full wafer full\r","%               field layout. The layout will also be used as a template for the other\r","%               corrections\r","%   options:    options structure\r","%   sbc:        sbc corrections structure\r","% Optional input:\r","%   ff_6p:      feed forward BAO\r","%\r","% Output:\r","%   mlo:        Same structure as intraf, with corrections during exposure reverted\r","%   fps:        structure containing the following fields:\r","%   KA:  KA fingerprint\r","%   MI:  MI fingerprint\r","%   BAO: BAO fingerprint\r","%   INTRAF: INTRAF fingerprint\r","%   WH: WH fingerprint\r","%   SUSD: SUSD fingerprint    \r","%   TotalSBCcorrection: Total correction including ff 6par fingerprint\r","% \r","% For details of the model and definitions of in/out interfaces, refer to\r","% D000810611 EDS BMMO NXE drift control model\r","\r","fps.TotalSBCcorrection = ovl_combine_linear(intraf, 0);\r","\r","if options.bl3_model && isfield(sbc.KA, 'act_corr') \r","fps.KA =  sbc.KA.act_corr; %actuated KA from ADELwfrgrid \r","else\r","fps.KA = bmmo_KA_SBC_fingerprint(intraf, sbc.KA.grid_2de, options);\r","end\r","\r","fps.TotalSBCcorrection = ovl_add(fps.TotalSBCcorrection, fps.KA);\r","\r","fps.MI = bmmo_MI_SBC_fingerprint(intraf, sbc.MI.wse, options);\r","fps.TotalSBCcorrection = ovl_add(fps.TotalSBCcorrection, fps.MI);\r","\r","fps.BAO = bmmo_BAO_SBC_fingerprint(intraf, sbc.BAO, options);\r","fps.TotalSBCcorrection = ovl_add(fps.TotalSBCcorrection, fps.BAO);\r","\r","fps.INTRAF = intraf;\r","fps.TotalSBCcorrection = ovl_add(fps.TotalSBCcorrection, fps.INTRAF);\r","\r","fps.WH= bmmo_WH_SBC_fingerprint(intraf, options);\r","fps.TotalSBCcorrection = ovl_add(fps.TotalSBCcorrection, fps.WH);\r","\r","fps.SUSD= bmmo_SUSD_SBC_fingerprint(intraf, sbc.SUSD, options);\r","fps.TotalSBCcorrection = ovl_add(fps.TotalSBCcorrection, fps.SUSD);\r","\r","% the BAO ff par should have the opposite sign to the others\r","if nargin < 4\r","\tff_6p = bmmo_ff_6par_fingerprint(intraf, sbc.MI.wsm, sbc.KA.grid_2dc, options);\r","end\r","\r","\r","fps.TotalSBCcorrection = ovl_sub(fps.TotalSBCcorrection, ff_6p); % NB ovl_sub\r","end\r",""],"CoverageData":{"CoveredLineNumbers":[30,32,34,35,38,40,41,43,44,46,47,49,50,52,53,56,57,61],"UnhitLineNumbers":33,"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,614,0,614,0,614,614,0,0,614,0,614,614,0,614,614,0,614,614,0,614,614,0,614,614,0,0,614,126,0,0,0,614,0,0]}}