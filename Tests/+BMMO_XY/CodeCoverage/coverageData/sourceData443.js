var sourceData443 = {"FileContents":["function mlt = bmmo_generate_ADELmetrology_simple(wafers_out, adeller, name, with_noise)\r","% function adel_out = bmmo_generate_ADELmetrology_simple(wafers_out, adeller, name, with_noise)\r","%\r","% Generate a valid ADELmetrology for BMMO-NXE given KT_wafers_in/out and a\r","% valid ADELler\r","%\r","% Input (all strings)\r","%       wafers_out: KT_wafers_out file path from monitor lot\r","%       adeller: ADELler path from the same lot\r","%\r","% Optional input\r","%       name: unique name identifier of output file \r","%       with_noise: add DCO budget noise before writing ADEL\r","%\r","% Output:\r","%       mlt: overlay structure in SMF format\r","%\r","% 20160331 SBPR creation; modified from tlg2ADELmetrology\r","\r","% Set default YS Machine ID \r","machineId = '1001';\r","\r","\r","if nargin < 3\r","    name = ['test_', datestr(now, 'hhMMss')];\r","end\r","\r","if nargin < 4\r","    with_noise = 0; \r","end\r","\r","% seed the random number generator\r","rng(sum(clock));\r","\r","% read adeller to get expinfo (containing only xc, yc field centres)\r","disp('reading ADELler');\r","[expinfo, mark_type] = bmmo_expinfo_from_adeller(adeller);\r","\r","% generate the measurement ml structure(s) from wafers_out, generating a\r","% template structure from expinfo\r","disp('reading KT_wafers_out');\r","phase = 2;\r","[mlo, kt_struct] = bmmo_get_meas_data(wafers_out, expinfo, phase, mark_type);\r","\r","% Generate the swid ml structure(s) from wafers_out\r","disp('reading WIDs from KT_wafers_out');\r","[ml_wid_up, ml_wid_down] = bmmo_get_swid_data(wafers_out, kt_struct);\r","    \r","% Remove edge for measurement layout & downsample\r","disp('removing edge and downsampling');\r","mlo = bmmo_get_meas_layout(mlo);\r","mlo = bmmo_generate_2l_dyna25_input(mlo);\r","\r","if with_noise\r","    disp('adding DCO budget noise per wafer');\r","    mlo = bmmo_add_noise(mlo);\r","end\r","\r","% % Remove all non-weccable marks from mlo\r","% disp('verifying WEC marks');\r","% mlo = bmmo_filter_wec(mlo, TOL);\r","% \r","% disp('verifying REC marks');\r","% mlo = bmmo_filter_rec_positions(mlo, TOL);\r","\r","disp('removing layout nans');\r","mlt = bmmo_remove_layout_nans(mlo);\r","ml_wid_up = bmmo_remove_layout_nans(ml_wid_up);\r","ml_wid_down =  bmmo_remove_layout_nans(ml_wid_down);\r","    \r","% write the ADELmetrology file\r","disp('writing ADELmetrology');\r","bmmo_write_adelmetrology_bmmo_layout(ml_wid_up, ml_wid_down, mlt, name, machineId);\r","\r","% convert to proper SMF ml\r","mlt.nfield = length(mlt.layer.wr(1).dx);\r","mlt.nmark = 1;\r","\r","end"],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[21,24,25,28,29,33,36,37,41,42,43,46,47,50,51,52,54,55,56,66,67,68,69,72,73,76,77],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}