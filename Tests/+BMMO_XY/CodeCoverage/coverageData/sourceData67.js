var sourceData67 = {"FileContents":["function mlo = bmmo_construct_layout_from_ml(mli, options)\r","% function mlo = bmmo_construct_layout_from_ml(mli, options)\r","% \r","% Construct the layout as defined in options.intrafield_reticle_layout from \r","% the exposure info in the input structure\r","% \r","% Input: \r","%  mli: ml structure containing an expinfo substructure, as defined\r","%       in D000810611  EDS BMMO NXE drift control model\r","%  options: BMMO/BL3 default options structure\r","%\r","% Output: \r","%  mlo: 1 * nlayer options.intrafield_reticle_layout layout with \r","%       field centre coordinates from expinfo structure\r","\r","% determine the number of layers by comparing the number of fields in\r","% expinfo with the defined field length of l1\r","totalfields = length(mli.expinfo.xc);\r","l1_end = options.layer_fields{1}(end);\r","if l1_end < totalfields\r","    nlayer = 2;\r","    options.layer_fields{2} = options.layer_fields{2}:length(mli.expinfo.xc);\r","else\r","    nlayer = 1;\r","end\r","mark_layout = bmmo_get_mark_layout(options.intrafield_reticle_layout, options);\r","\r","for ilayer = 1:nlayer\r","   expinfo.xc = mli.expinfo.xc(options.layer_fields{ilayer});\r","   expinfo.yc = mli.expinfo.yc(options.layer_fields{ilayer});\r","   mlo(ilayer) = bmmo_construct_layout(expinfo.xc, expinfo.yc, mark_layout, 1, mli.nwafer);\r","   mlo(ilayer) = bmmo_shift_fields(mlo(ilayer), options.model_shift.x, options.model_shift.y, ilayer);\r","end\r",""],"CoverageData":{"CoveredLineNumbers":[18,19,20,21,22,23,24,26,28,29,30,31,32],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,448,448,448,438,438,10,10,0,448,0,448,886,886,886,886,0,0]}}