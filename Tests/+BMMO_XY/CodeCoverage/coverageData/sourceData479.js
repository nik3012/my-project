var sourceData479 = {"FileContents":["function sbc_configuration = bmmo_configuration_from_sbc(sbc)\r","% function sbc_configuration = bmmo_configuration_from_sbc(sbc)\r","%\r","% Given the SBC correcton, determines the Job configuration and outputs in\r","% the same format as in.info.configuration_data (BMMO/BL3 input). The\r","% function will only determine the configuration that can be found using the SBC\r","% structure in MATLAB.\r","%\r","% Input:\r","%   sbc: SBC correction\r","%\r","% Output:\r","%  sbc_configuration : Configuration determined using sbc\r","N_GRID_POINTS_BMMO = 3721;\r","\r","if isfield(sbc, 'KA') && isfield(sbc.KA, 'grid_2de')\r","    \r","    if numel(sbc.KA.grid_2de(1).x) > N_GRID_POINTS_BMMO\r","        sbc_configuration.bl3_model = 1;\r","    else\r","        sbc_configuration.bl3_model = 0;\r","    end\r","    \r","    sbc_configuration.KA_correction_enabled = sub_determine_KA_configuration(sbc.KA.grid_2de);\r","    \r","    if  isfield(sbc.KA, 'grid_2dc')\r","        sbc_configuration.KA_measure_enabled = sub_determine_KA_configuration(sbc.KA.grid_2dc);\r","    end\r","    \r","else\r","    sbc_configuration.KA_correction_enabled = 0;\r","end\r","\r","if isfield(sbc, 'SUSD') && isfield(sbc.SUSD, 'TranslationY')\r","    Ty_id =   cell2mat(arrayfun(@(x)(any(x.TranslationY)), sbc.SUSD, 'UniformOutput', false));\r","    \r","    if any(Ty_id)\r","        sbc_configuration.susd_correction_enabled = 1;\r","    else\r","        sbc_configuration.susd_correction_enabled = 0;\r","    end\r","else\r","    sbc_configuration.susd_correction_enabled = 0;\r","end\r","end\r","\r","\r","function KA_configuration = sub_determine_KA_configuration(grid)\r","\r","if any(grid(1).dx) || any(grid(1).dy) || any(grid(2).dx) || any(grid(2).dy)\r","    KA_configuration = 1;\r","else\r","    KA_configuration = 0;\r","end\r","\r","end"],"CoverageData":{"CoveredLineNumbers":[14,16,18,19,20,21,24,26,27,34,35,37,38,39,40,50,51,52,53],"UnhitLineNumbers":[30,31,42,43],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,3,2,1,1,0,0,3,0,3,3,0,0,0,0,0,0,3,3,0,3,1,2,2,0,0,0,0,0,0,0,0,0,6,2,4,4,0,0,0]}}