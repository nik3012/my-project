var sourceData342 = {"FileContents":["classdef testApplySbcToMl < BMMO_XY.tools.testSuite\r","    % This test uses applySbcToMl to apply and/or subtract SBC\r","    % corrections from OPO data. It does not look at whether the loaded\r","    % SBCs should be used for the correction or decorrection. Therefore,\r","    % one should be careful with using this test as an example for using\r","    % this function. Instead, see the relevant KT: D001217927 PSA KT BL3 OPO (De)correction Tooling\r","    properties\r","\r","        paths\r","        zip\r","        T1OpoBl3\r","        T2BmmoBl3\r","        T3BmmoBmmoNxe\r","        T4OpoBmmoNxe\r","\r","    end\r","\r","    methods (TestClassSetup)\r","\r","        function setWarnings(obj)\r","            warning('off','all');\r","        end\r","\r","        function setupTestData(obj)\r","            obj.paths.folder = [fileparts(mfilename('fullpath')) filesep 'private' filesep];\r","            obj.createTempDir();\r","\r","            %% Setup paths of input data\r","            % Test 1: T1OpoBl3\r","            obj.T1OpoBl3.data = [obj.paths.folder 'referenceDataT1OpoBl3.mat'];\r","            obj.T1OpoBl3.zip.ADELmetro = [obj.paths.folder 'ADELmetrology_applySbcToMl_T1OpoBl3.zip'];\r","            obj.T1OpoBl3.zip.ADELler = [obj.paths.folder 'ADELler_applySbcToMl_T1OpoBl3.zip'];\r","            obj.T1OpoBl3.zip.ADELsbcRep = [obj.paths.folder 'ADELsbcOverlayDriftControlNxerep_applySbcToMl_T1OpoBl3.zip'];\r","\r","            % Test 2: T2BmmoBl3\r","            obj.T2BmmoBl3.data = [obj.paths.folder 'referenceDataT2BmmoBl3.mat' ];\r","            obj.T2BmmoBl3.zip.ADELmetro = [obj.paths.folder 'ADELmetrology_applySbcToMl_T2BmmoBl3.zip'];\r","            obj.T2BmmoBl3.zip.ADELler = [obj.paths.folder 'ADELler_applySbcToMl_T2BmmoBl3.zip'];\r","            obj.T2BmmoBl3.zip.ADELsbcRep = [obj.paths.folder 'ADELsbcOverlayDriftControlNxerep_applySbcToMl_T2BmmoBl3.zip'];\r","\r","            % Test 3: T3BmmoBmmoNxe\r","            obj.T3BmmoBmmoNxe.data = [obj.paths.folder 'referenceDataT3BmmoBmmoNxe.mat'];\r","            obj.T3BmmoBmmoNxe.zip.ADELmetro = [obj.paths.folder 'ADELmetrology_applySbcToMl_T3BmmoBmmoNxe.zip'];\r","            obj.T3BmmoBmmoNxe.zip.ADELler = [obj.paths.folder 'ADELler_applySbcToMl_T3BmmoBmmoNxe.zip'];\r","            obj.T3BmmoBmmoNxe.zip.ADELsbc = [obj.paths.folder 'ADELsbcOverlayDriftControlNxe_applySbcToMl_T3BmmoBmmoNxe.zip'];\r","\r","            % Test 4: T4OpoBmmoNxe\r","            obj.T4OpoBmmoNxe.data = [obj.paths.folder 'referenceDataT4OpoBmmoNxe.mat'];\r","            obj.T4OpoBmmoNxe.zip.ADELmetro = [obj.paths.folder 'ADELmetrology_applySbcToMl_T4OpoBmmoNxe.zip'];\r","            obj.T4OpoBmmoNxe.zip.ADELler = [obj.paths.folder 'ADELler_applySbcToMl_T4OpoBmmoNxe.zip'];\r","            obj.T4OpoBmmoNxe.zip.ADELsbc = [obj.paths.folder 'ADELsbcOverlayDriftControlNxe_applySbcToMl_T4OpoBmmoNxe.zip'];\r","\r","\r","\r","            %% Unzip the ADELs for the input data\r","\r","            % Test 1: T1OpoBl3\r","            obj.T1OpoBl3.paths.ADELmetro = unzip(obj.T1OpoBl3.zip.ADELmetro, obj.testTempDir);\r","            obj.T1OpoBl3.paths.ADELler = unzip(obj.T1OpoBl3.zip.ADELler, obj.testTempDir);\r","            obj.T1OpoBl3.paths.ADELsbcRep = unzip(obj.T1OpoBl3.zip.ADELsbcRep, obj.testTempDir);\r","\r","            % Test 2: T2BmmoBl3\r","            obj.T2BmmoBl3.paths.ADELmetro = unzip(obj.T2BmmoBl3.zip.ADELmetro, obj.testTempDir);\r","            obj.T2BmmoBl3.paths.ADELler = unzip(obj.T2BmmoBl3.zip.ADELler, obj.testTempDir);\r","            obj.T2BmmoBl3.paths.ADELsbcRep = unzip(obj.T2BmmoBl3.zip.ADELsbcRep, obj.testTempDir);\r","\r","            % Test 3: T3BmmoBmmoNxe\r","            obj.T3BmmoBmmoNxe.paths.ADELmetro = unzip(obj.T3BmmoBmmoNxe.zip.ADELmetro, obj.testTempDir);\r","            obj.T3BmmoBmmoNxe.paths.ADELler = unzip(obj.T3BmmoBmmoNxe.zip.ADELler, obj.testTempDir);\r","            obj.T3BmmoBmmoNxe.paths.ADELsbc = unzip(obj.T3BmmoBmmoNxe.zip.ADELsbc, obj.testTempDir);\r","\r","            %T4\r","            obj.T4OpoBmmoNxe.paths.ADELmetro = unzip(obj.T4OpoBmmoNxe.zip.ADELmetro, obj.testTempDir);\r","            obj.T4OpoBmmoNxe.paths.ADELler = unzip(obj.T4OpoBmmoNxe.zip.ADELler, obj.testTempDir);\r","            obj.T4OpoBmmoNxe.paths.ADELsbc = unzip(obj.T4OpoBmmoNxe.zip.ADELsbc, obj.testTempDir);\r","\r","\r","\r","            %% Process the inputdata\r","\r","            % Test 1: T1OpoBl3\r","            obj.T1OpoBl3.ADELmetro = ovl_read_adelmetrology(obj.T1OpoBl3.paths.ADELmetro{1}, 'ignoretargetname');\r","            obj.T1OpoBl3.ADELsbcRepCor = bmmo_kt_process_SBC2rep(obj.T1OpoBl3.paths.ADELsbcRep{1});\r","\r","            % Test 2: T2BmmoBl3\r","            obj.T2BmmoBl3.ADELmetro = ovl_read_adelmetrology(obj.T2BmmoBl3.paths.ADELmetro{1}, 'targetname', 'LS_OV_RINT');\r","            obj.T2BmmoBl3.ADELsbcRepCor = bmmo_kt_process_SBC2rep(obj.T2BmmoBl3.paths.ADELsbcRep{1});\r","\r","            % Test 3: T3BmmoBmmoNxe\r","            obj.T3BmmoBmmoNxe.ADELmetro = ovl_read_adelmetrology(obj.T3BmmoBmmoNxe.paths.ADELmetro{1}, 'targetname', 'LS_OV_RINT');\r","            obj.T3BmmoBmmoNxe.ADELsbcCor = bmmo_kt_process_SBC2(obj.T3BmmoBmmoNxe.paths.ADELsbc{1});\r","\r","            % Test 4: T4OpoBmmoNxe\r","            obj.T4OpoBmmoNxe.ADELmetro = ovl_read_adelmetrology(obj.T4OpoBmmoNxe.paths.ADELmetro{1}, 'ignoretargetname');\r","            obj.T4OpoBmmoNxe.ADELsbcCor = bmmo_kt_process_SBC2(obj.T4OpoBmmoNxe.paths.ADELsbc{1});\r","\r","        end\r","\r","        function setupRefData(obj)\r","\r","            %% Load in the reference data\r","\r","            % Test 1: T1OpoBl3\r","            load([obj.paths.folder, 'referenceDataT1OpoBl3.mat']);\r","            obj.T1OpoBl3.ref.corrected = corrOpo;\r","            obj.T1OpoBl3.ref.decorrected = decorrOpo;\r","\r","            % Test 2: T2BmmoBl3\r","            load([obj.paths.folder 'referenceDataT2BmmoBl3.mat']);\r","            obj.T2BmmoBl3.ref.corrected = corrBMMO;\r","            obj.T2BmmoBl3.ref.decorrected = decorrBMMO;\r","\r","            % Test 3: T3BmmoBmmoNxe\r","            load([obj.paths.folder 'referenceDataT3BmmoBmmoNxe.mat']);\r","            obj.T3BmmoBmmoNxe.ref.corrected = corrBMMO;\r","            obj.T3BmmoBmmoNxe.ref.decorrected = decorrBMMO;\r","\r","            % Test 4: T4OpoBmmoNxe\r","            load([obj.paths.folder 'referenceDataT4OpoBmmoNxe.mat']);\r","            obj.T4OpoBmmoNxe.ref.corrected = corrOpo;\r","            obj.T4OpoBmmoNxe.ref.decorrected = decorrOpo;\r","\r","        end\r","    end\r","\r","    methods (Test)\r","\r","        function doT1OpoBl3(obj)\r","            obj.T1OpoBl3.intrafOrder = 5; % Set intrafield order\r","            obj.T1OpoBl3.Result.decorrected = BMMO_XY.tools.OPO.applySbcToMl(obj.T1OpoBl3.ADELmetro, obj.T1OpoBl3.ADELsbcRepCor, -1, obj.T1OpoBl3.paths.ADELler{1}, obj.T1OpoBl3.intrafOrder);\r","            obj.T1OpoBl3.Result.corrected = BMMO_XY.tools.OPO.applySbcToMl(obj.T1OpoBl3.ADELmetro, obj.T1OpoBl3.ADELsbcRepCor, 1, obj.T1OpoBl3.paths.ADELler{1}, obj.T1OpoBl3.intrafOrder);\r","            obj.verifyMlWithinTol(obj.T1OpoBl3.Result.decorrected, obj.T1OpoBl3.ref.decorrected);\r","            obj.verifyMlWithinTol(obj.T1OpoBl3.Result.corrected, obj.T1OpoBl3.ref.corrected);\r","        end\r","\r","        function doT2BmmoBl3(obj)\r","            obj.T2BmmoBl3.intrafOrder = 5; % Set intrafield order\r","            obj.T2BmmoBl3.Result.decorrected = BMMO_XY.tools.OPO.applySbcToMl(obj.T2BmmoBl3.ADELmetro, obj.T2BmmoBl3.ADELsbcRepCor, -1, obj.T2BmmoBl3.paths.ADELler{1}, obj.T2BmmoBl3.intrafOrder);\r","            obj.T2BmmoBl3.Result.corrected = BMMO_XY.tools.OPO.applySbcToMl(obj.T2BmmoBl3.ADELmetro, obj.T2BmmoBl3.ADELsbcRepCor, 1, obj.T2BmmoBl3.paths.ADELler{1}, obj.T2BmmoBl3.intrafOrder);\r","            obj.verifyMlWithinTol(obj.T2BmmoBl3.Result.decorrected, obj.T2BmmoBl3.ref.decorrected);\r","            obj.verifyMlWithinTol(obj.T2BmmoBl3.Result.corrected, obj.T2BmmoBl3.ref.corrected);\r","        end\r","\r","        function doT3BmmoBmmoNxe(obj)\r","            obj.T3BmmoBmmoNxe.intrafOrder = 3; % Set intrafield order\r","            obj.T3BmmoBmmoNxe.Result.decorrected = BMMO_XY.tools.OPO.applySbcToMl(obj.T3BmmoBmmoNxe.ADELmetro, obj.T3BmmoBmmoNxe.ADELsbcCor, -1, obj.T3BmmoBmmoNxe.paths.ADELler{1}, obj.T3BmmoBmmoNxe.intrafOrder);\r","            obj.T3BmmoBmmoNxe.Result.corrected = BMMO_XY.tools.OPO.applySbcToMl(obj.T3BmmoBmmoNxe.ADELmetro, obj.T3BmmoBmmoNxe.ADELsbcCor, 1, obj.T3BmmoBmmoNxe.paths.ADELler{1}, obj.T3BmmoBmmoNxe.intrafOrder);\r","            obj.verifyMlWithinTol(obj.T3BmmoBmmoNxe.Result.decorrected, obj.T3BmmoBmmoNxe.ref.decorrected);\r","            obj.verifyMlWithinTol(obj.T3BmmoBmmoNxe.Result.corrected, obj.T3BmmoBmmoNxe.ref.corrected);\r","        end\r","\r","        function doT4OpoBmmoNxe(obj)\r","            obj.T4OpoBmmoNxe.intrafOrder = 3; % Set intrafield order\r","            obj.T4OpoBmmoNxe.Result.decorrected = BMMO_XY.tools.OPO.applySbcToMl(obj.T4OpoBmmoNxe.ADELmetro, obj.T4OpoBmmoNxe.ADELsbcCor, -1, obj.T4OpoBmmoNxe.paths.ADELler{1}, obj.T4OpoBmmoNxe.intrafOrder);\r","            obj.T4OpoBmmoNxe.Result.corrected = BMMO_XY.tools.OPO.applySbcToMl(obj.T4OpoBmmoNxe.ADELmetro, obj.T4OpoBmmoNxe.ADELsbcCor, 1, obj.T4OpoBmmoNxe.paths.ADELler{1}, obj.T4OpoBmmoNxe.intrafOrder);\r","            obj.verifyMlWithinTol(obj.T4OpoBmmoNxe.Result.decorrected, obj.T4OpoBmmoNxe.ref.decorrected);\r","            obj.verifyMlWithinTol(obj.T4OpoBmmoNxe.Result.corrected, obj.T4OpoBmmoNxe.ref.corrected);\r","        end\r","\r","    end\r","\r","    methods (TestClassTeardown)\r","        function resetWarnings(obj)\r","            warning('on','all');\r","        end\r","    end\r","\r","end"],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[21,25,26,30,31,32,33,36,37,38,39,42,43,44,45,48,49,50,51,58,59,60,63,64,65,68,69,70,73,74,75,82,83,86,87,90,91,94,95,104,105,106,109,110,111,114,115,116,119,120,121,129,130,131,132,133,137,138,139,140,141,145,146,147,148,149,153,154,155,156,157,164],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}