var sourceData410 = {"FileContents":["function [expinfo, sortindex] = bmmo_expinfo_from_tlg(mli, layer)\r","% function expinfo = bmmo_expinfo_from_tlg(mli, layer)\r","%\r","% Read BMMO-NXE expinfo from the info.S structure from the testlog \r","% \r","% Input:\r","%   mli: parsed testlog with info.S.compact_expo_results field\r","%\r","% Output:\r","%   layer: layer to read \r","\r","% Make sure the required fields are present\r","validateattributes(mli.info.S.compact_expo_results, {'cell'}, {'nonempty'}, 1);\r","\r","% get the right subset of fields, depending on the layer\r","results = mli.info.S.compact_expo_results{1};\r","\r","nfield = length(results);\r","\r","xc = zeros(nfield, 1);\r","yc = zeros(nfield, 1);\r","v = zeros(nfield, 1);\r","map_fieldtoexp = zeros(nfield, 1);\r","\r","for ires = 1:nfield\r","    map_fieldtoexp(ires) = results(ires).exposure_seq_nr;\r","\r","    % Also get exposure_position (xc and yc vectors)\r","    xc(ires) = results(ires).exposure_position.x;\r","    yc(ires) = results(ires).exposure_position.y;\r","\r","    % Get scan speed\r","    v(ires) = results(ires).scan_speed;\r","\r","    % Build expinfo from exposure positions\r","    \r","end\r","\r","% sort expinfo by exposure sequence number\r","[map_fieldtoexp, sortindex] = sort(map_fieldtoexp);\r","xc = xc(sortindex);\r","yc = yc(sortindex);\r","v = v(sortindex);\r","expinfo.xc = xc;\r","expinfo.yc = yc;\r","expinfo.v = v;\r","expinfo.map_fieldtoexp = map_fieldtoexp + 1;\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[13,16,18,20,21,22,23,25,26,29,30,33,40,41,42,43,44,45,46,47],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}