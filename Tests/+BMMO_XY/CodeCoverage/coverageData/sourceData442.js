var sourceData442 = {"FileContents":["function mlo = bmmo_generate_ADELmetrology_phase2(wafers_in, wafers_out, adeller, name, machineId, with_noise)\r","% function adel_out = bmmo_generate_ADELmetrology(wafers_in, wafers_out, adeller)\r","%\r","% Generate a valid ADELmetrology for BMMO-NXE given KT_wafers_in/out and a\r","% valid ADELler\r","%\r","% Input (all strings)\r","%       wafers_in: KT_wafers_in file path from a BMMO lot\r","%       wafers_out: KT_wafers_out file path from the same lot\r","%       adeller: ADELler path from the same lot\r","%       name: unique name identifier of output file\r","%\r","%\r","% 20160331 SBPR creation; modified from tlg2ADELmetrology\r","\r","% Set default Machine ID if none input\r","if nargin < 5\r","    machineId = '1001';\r","end\r","\r","if nargin < 6\r","    with_noise = 0;\r","end\r","\r","% seed the random number generator\r","rng(sum(clock));\r","\r","% Matching tolerance for mark positions\r","TOL = 9;\r","\r","% read adeller to get expinfo (containing only xc, yc field centres)\r","disp('reading ADELler');\r","[expinfo, mark_type] = bmmo_expinfo_from_adeller(adeller);\r","\r","% generate the measurement ml structure(s) from wafers_out, generating a\r","% template structure from expinfo\r","disp('reading KT_wafers_out');\r","phase = 2;\r","mlo = bmmo_get_meas_data(wafers_out, expinfo, phase, mark_type);\r","\r","if with_noise\r","    disp('adding DCO budget noise per wafer');\r","    mlo = bmmo_add_noise(mlo);\r","end\r","\r","% Generate the swid ml structure(s) from wafers_in\r","disp('reading KT_wafers_in');\r","[ml_wid_up, ml_wid_down] = bmmo_get_swid_data(wafers_in);\r","\r","\r","    \r","% Remove edge for measurement layout & downsample\r","disp('removing edge and downsampling');\r","mlo = bmmo_get_meas_layout(mlo);\r","mlo = bmmo_generate_2l_dyna25_input(mlo);\r","\r","% % Remove all non-weccable marks from mlo\r","% disp('verifying WEC marks');\r","% mlo = bmmo_filter_wec(mlo, TOL);\r","% \r","% disp('verifying REC marks');\r","% mlo = bmmo_filter_rec_positions(mlo, TOL);\r","\r","disp('removing layout nans');\r","mlt = bmmo_remove_layout_nans(mlo);\r","ml_wid_up = bmmo_remove_layout_nans(ml_wid_up);\r","ml_wid_down =  bmmo_remove_layout_nans(ml_wid_down);\r","    \r","% write the ADELmetrology file\r","disp('writing ADELmetrology');\r","bmmo_write_adelmetrology_bmmo_layout(ml_wid_up, ml_wid_down, mlt, name, machineId);\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[17,18,21,22,26,29,32,33,37,38,39,41,42,43,47,48,53,54,55,64,65,66,67,70,71],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}