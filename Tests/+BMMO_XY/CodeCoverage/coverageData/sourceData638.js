var sourceData638 = {"FileContents":["\r","%% history \r","%   2015-07-03  JIMI    creation\r","%   2016-01-08  SBPR    renamed\r","%   2018-11-30  SELR    added test_use_input_fp, correct reticle_layout,\r","%                       created setup function\r","\r","function test_suite = test_bmmo_construct_wh_fp\r","suite = initTestSuite2016(localfunctions);\r","if nargout==0\r","    suite.run();\r","else\r","    test_suite = suite;\r","end\r","\r","\r","function setup_data = setup\r","\r","load([bmmo_testdata_root filesep 'TC09_01_in.mat']);\r","load([bmmo_testdata_root filesep 'TC09_01_out.mat']);\r","\r","setup_data.options = bmmo_default_options_structure;\r","setup_data.options.intrafield_reticle_layout = setup_data.options.reduced_reticle_layout;\r","setup_data.out_WHFP = out_WHFP;\r","setup_data.mli = mli;\r","\r","\r","function test_TC09_01(setup_data)  % ok<DEFNU>\r","\r","mli = bmmo_phase_2_input(setup_data.mli);\r","options = bmmo_ml_options(mli, setup_data.options);\r","\r","% convert k-factors to new format\r","options.WH_K_factors = bmmo_k_factors_to_xml(options.WH_K_factors, ...\r","    mli.nwafer, length(options.WH_K_factors.wafer(1).field));\r","test_out_WHFP = bmmo_construct_wh_fp(mli, options);\r","\r","for iwaf = 1:length(test_out_WHFP)\r","    test_out_WHFP = ovl_remove_edge(test_out_WHFP); % output fp has edge removed\r","\tbmmo_assert_equal(setup_data.out_WHFP(iwaf).layer, test_out_WHFP(iwaf).layer);\r","end\r","\r","\r","function test_use_input_fp(setup_data)\r","\r","mli = bmmo_phase_2_input(setup_data.mli);\r","options = bmmo_ml_options(mli, setup_data.options);\r","% convert k-factors to new format\r","options.WH_K_factors = bmmo_k_factors_to_xml(options.WH_K_factors, ...\r","    mli.nwafer, length(options.WH_K_factors.wafer(1).field));\r","\r","options.WH.use_input_fp = 1;\r","test_out_WHFP = bmmo_construct_wh_fp(mli, options);\r","\r","for iwaf = 1:length(test_out_WHFP)\r","    test_out_WHFP = ovl_remove_edge(test_out_WHFP); % output fp has edge removed\r","\tbmmo_assert_equal(setup_data.out_WHFP(iwaf).layer, test_out_WHFP(iwaf).layer);\r","end"],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[9,10,11,12,13,19,20,22,23,24,25,30,31,34,35,36,38,39,40,46,47,49,50,52,53,55,56,57],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}