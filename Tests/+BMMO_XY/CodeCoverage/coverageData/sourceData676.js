var sourceData676 = {"FileContents":["function test_suite = test_bmmo_invalid_wafer\r","suite = initTestSuite2016(localfunctions);\r","if nargout==0\r","    suite.run();\r","else\r","    test_suite = suite;\r","end\r","\r","%half marks NaN on one wafer per check\r","function test_bmmo_wafer_halves_NaN\r","\r","ml = bmmo_default_input;\r","ml = bmmo_add_random_noise(ml);\r","\r","[ui, di, li, ri] = sub_get_half_indices(ml);\r","\r","index_set = {ui, di, li, ri};\r","\r","for ii = 1:4\r","    mlt = sub_set_wafer_indices_NaN(ml, index_set{ii}, [1 4]); \r","    \r","    out = bmmo_nxe_drift_control_model(mlt);  \r","    %disp(['Outlier coverage: ', num2str(out.report.KPI.input.outlier_coverage)]);\r","\r","end\r","    \r","\r","function test_bmmo_wafer_opposite_halves_NaN\r","\r","ml = bmmo_default_input;\r","ml = bmmo_add_random_noise(ml);\r","\r","[ui, di, li, ri] = sub_get_half_indices(ml);\r","\r","for ii = 1:4\r","    mlt = sub_set_wafer_indices_NaN(ml, ui, [1 2 3]); \r","    mlt = sub_set_wafer_indices_NaN(mlt, di, [4 5 6]);\r","    \r","    out = bmmo_nxe_drift_control_model(mlt); \r","    %disp(['Outlier coverage: ', num2str(out.report.KPI.input.outlier_coverage)]);\r","end\r","\r","function test_bmmo_half_marks_NaN\r","\r","ml = bmmo_default_input;\r","ml = bmmo_add_random_noise(ml);\r","\r","rng('default');\r","nf = ml.nfield;\r","t = nf / 2;\r","\r","for iw = 1:6\r","    d = randi(nf, nf, 1);\r","    li = d > t;\r","    ml.layer.wr(iw).dx(li) = NaN;\r","    ml.layer.wr(iw).dy(li) = NaN;\r","end\r","\r","out = bmmo_nxe_drift_control_model(ml);\r","%disp(['Outlier coverage: ', num2str(out.report.KPI.input.outlier_coverage)]);\r","\r","\r","function [ui, di, li, ri] = sub_get_half_indices(ml)\r","ui = ml.wd.yw >=0;\r","di = ml.wd.yw <=0;\r","ri = ml.wd.xw >= 0;\r","li = ml.wd.xw <= 0;\r","\r","function mlo = sub_set_wafer_indices_NaN(ml, index, wafers)\r","\r","mlo = ml;\r","for iw = 1:length(wafers)\r","    mlo.layer.wr(wafers(iw)).dx(index) = NaN;\r","    mlo.layer.wr(wafers(iw)).dy(index) = NaN;\r","end\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[2,3,4,5,6,12,13,15,17,19,20,22,30,31,33,35,36,37,39,45,46,48,49,50,52,53,54,55,56,59,64,65,66,67,71,72,73,74],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}