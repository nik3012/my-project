var sourceData480 = {"FileContents":["function out = bmmo_convert_SBC_to_ADELprecision(sbc)\r","% function out = bmmo_convert_SBC_to_ADELprecision(sbc)\r","%\r","% Get SBC correction from MATLAB with same precision as ADEL SBC recipe\r","%\r","% function out = bmmo_convert_SBC_to_ADELprecision(sbc)\r","%\r","% Input:\r","% sbc: Matlab sbc correction (out.corr, output by bmmo_nxe_drift_control_model)\r","%\r","% Output:\r","% out : sbc correction with precision as per schema\r","%\r","% 20200817 ANBZ Creation\r","\r","% Intialize\r","out = sbc;\r","\r","if isfield(sbc,'Configurations')\r","    out = rmfield(sbc,'Configurations');\r","end\r","\r","out.IR2EUV           =   str2double(sprintf('%.16f', (sbc.IR2EUV)));\r","\r","for ic = 1:2\r","    \r","    out.MI.wse(ic)       =  sub_update_mi( sbc.MI.wse(ic));\r","    out.MI.wsm(ic)       =  sub_update_mi( sbc.MI.wsm(ic));\r","    out.KA.grid_2de(ic)  =  sub_update_ka(sbc.KA.grid_2de(ic));\r","    out.BAO(ic)          =  sub_update_bao(sbc.BAO(ic));\r","    out.ffp(ic)          =   sub_update_intraf(sbc.ffp(ic));\r","    \r","    if isfield(sbc.KA, 'grid_2dc')\r","        out.KA.grid_2dc(ic)  =  sub_update_ka(sbc.KA.grid_2dc(ic));\r","    end\r","end\r","\r","for i =1:length(sbc.SUSD)\r","    out.SUSD(i) =  sub_update_susd(sbc.SUSD(i));\r","end\r","\r","\r","function sbc_mi = sub_update_mi( sbc_mi)\r","\r","for ii =1:length(sbc_mi.x_mirr.dx)\r","    sbc_mi.y_mirr.dy(ii) = str2double(sprintf('%.2f', (sbc_mi.y_mirr.dy(ii) * 1e9)))*1e-9;\r","    sbc_mi.x_mirr.dx(ii) = str2double(sprintf('%.2f', (sbc_mi.x_mirr.dx(ii) * 1e9)))*1e-9;\r","end\r","\r","\r","function sbc_ka = sub_update_ka(sbc_ka)\r","\r","for ii =1:length(sbc_ka.dx)\r","    sbc_ka.dy(ii) = str2double(sprintf('%.2f', (sbc_ka.dy(ii)* 1e9)))*1e-9;\r","    sbc_ka.dx(ii) = str2double(sprintf('%.2f', (sbc_ka.dx(ii)* 1e9)))*1e-9;\r","end\r","\r","\r","function sbc_bao = sub_update_bao(sbc_bao)\r","\r","sbc_bao.TranslationX                 =  str2double(sprintf('%.3f', (sbc_bao.TranslationX * 1e9)))*1e-9;\r","sbc_bao.TranslationY                 =  str2double(sprintf('%.3f', (sbc_bao.TranslationY * 1e9)))*1e-9;\r","sbc_bao.Magnification                =  str2double(sprintf('%.3f', (sbc_bao.Magnification * 1e6)))*1e-6;\r","sbc_bao.Rotation                     =  str2double(sprintf('%.4f', (sbc_bao.Rotation * 1e6)))*1e-6;\r","sbc_bao.AsymRotation                 =  str2double(sprintf('%.4f', (sbc_bao.AsymRotation * 1e6)))*1e-6;\r","sbc_bao.AsymMagnification            =  str2double(sprintf('%.3f', (sbc_bao.AsymMagnification * 1e6)))*1e-6;\r","sbc_bao.InterfieldRotation           =  str2double(sprintf('%.4f', (sbc_bao.InterfieldRotation * 1e6)))*1e-6;\r","sbc_bao.NonOrtho                     =  str2double(sprintf('%.4f', (sbc_bao.NonOrtho * 1e6)))*1e-6;\r","sbc_bao.ExpansionX                   =  str2double(sprintf('%.4f', (sbc_bao.ExpansionX * 1e6)))*1e-6;\r","sbc_bao.ExpansionY                   =  str2double(sprintf('%.4f', (sbc_bao.ExpansionY * 1e6)))*1e-6;\r","\r","\r","function sbc_intraf = sub_update_intraf(sbc_intraf)\r","\r","for ii=1:length(sbc_intraf.dx)\r","    sbc_intraf.dx(ii)                = str2double(sprintf('%.2f', (sbc_intraf.dx(ii) * 1e9)))*1e-9;\r","    sbc_intraf.dy(ii)                = str2double(sprintf('%.2f', (sbc_intraf.dy(ii) * 1e9)))*1e-9;\r","end\r","\r","\r","function sbc_susd = sub_update_susd(sbc_susd)\r","\r","sbc_susd.TranslationX      =  str2double(sprintf('%.3f', (sbc_susd.TranslationX * 1e9)))*1e-9;\r","sbc_susd.TranslationY      =  str2double(sprintf('%.3f', (sbc_susd.TranslationY * 1e9)))*1e-9;\r","sbc_susd.Magnification     =  str2double(sprintf('%.3f', (sbc_susd.Magnification * 1e6)))*1e-6;\r","sbc_susd.Rotation          =  str2double(sprintf('%.4f', (sbc_susd.Rotation * 1e6)))*1e-6;\r","sbc_susd.AsymRotation      =  str2double(sprintf('%.4f', (sbc_susd.AsymRotation * 1e6)))*1e-6;\r","sbc_susd.AsymMagnification =  str2double(sprintf('%.3f', (sbc_susd.AsymMagnification * 1e6)))*1e-6;\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[17,19,20,23,25,27,28,29,30,31,33,34,38,39,45,46,47,53,54,55,61,62,63,64,65,66,67,68,69,70,75,76,77,83,84,85,86,87,88],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}