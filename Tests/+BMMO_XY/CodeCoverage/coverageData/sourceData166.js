var sourceData166 = {"FileContents":["function mlo = bmmo_remove_average_field(mli, options)\r","% function mlo = bmmo_remove_average_field(mli, options)\r","%\r","% This function removes the averaged fingerprint per field on a wafer,\r","% excluding any points that are nan. the algorithm iterates per [xf, yf]\r","% and finds related marks that are not nan and average them. the averaged\r","% fingerprint is removed from the input\r","%\r","% Input:\r","% mli: input ml structure, field reconstruction has been completed\r","% options: BMMO/BL3 default options structure\r","%\r","% Output:\r","% mlo: output ml structure where field fingerprint have been removed\r","\r","mlo = mli;\r","\r","for ilayer = 1:mli.nlayer;\r","    for iwafer = 1:mli.nwafer;\r","        ml = ovl_get_layers(ovl_get_wafers(mli, iwafer), ilayer); \r","        ml_avg = ovl_average_fields(bmmo_repair_intrafield_nans(ovl_get_fields(ml, options.fid_intrafield),options));\r","        ml_no_field = ovl_sub_field(ml, ml_avg);\r","        mlo.layer(ilayer).wr(iwafer).dx =  ml_no_field.layer.wr.dx;\r","        mlo.layer(ilayer).wr(iwafer).dy =  ml_no_field.layer.wr.dy;\r","    end\r","end\r","\r",""],"CoverageData":{"CoveredLineNumbers":[16,18,19,20,21,22,23,24],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,234,0,234,234,244,244,244,244,244,0,0,0,0]}}