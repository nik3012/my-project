var sourceData7 = {"FileContents":["function [options_out, T] = bl3_set_model_configuration(options_in)\r","%function [options_out, T] = bl3_set_model_configuration(options_in)\r","%\r","% This function will set the correct submodel_sequence and combined model\r","% contents in the options structure, based on the configuration options in\r","% the options structure (SUSD on/off, KA on/off, 1L/2L)\r","%\r","% Input :\r","% options_in:      existing options structure\r","%\r","% Ouput :\r","% options_out:     input options with submodel_sequence and\r","%                  combined_model_contents set\r","% T:               lookup table with all possible model configuration\r","\r","options_out = options_in;\r","\r","T = sub_get_mapping_table;\r","T_selected = T(T.layer == options_out.no_layer_to_use &...\r","    T.susd == options_out.susd_control & T.ka == options_out.KA_control, :);\r","\r","options_out.submodel_sequence = T_selected{1, 'submodel_sequence'}{1};\r","options_out.combined_model_contents = T_selected{1, 'cm_contents'}{1};\r","\r","\r","function T = sub_get_mapping_table\r","\r","layer = [1;1;1;1;2;2;2;2];\r","susd = [0;0;1;1;0;0;1;1];\r","ka = [0;1;0;1;0;1;0;1];\r","seq_1L_default = {'SUSD_1L_monitor','MI','BAO','INTRAF'};\r","seq_1L_SUSD = {'SUSD_1L','MI','BAO','INTRAF'};\r","seq_1L_MIKA_EDGE = {'SUSD_1L_monitor','MIKA_EDGE','BAO','INTRAF'};\r","seq_1L_MIKA_EDGE_SUSD = {'SUSD_1L','MIKA_EDGE','BAO','INTRAF'};\r","seq_2L_default = {'WH','SUSD_2L_monitor','MI','BAO','INTRAF'};\r","seq_2L_MIKA_EDGE = {'WH','SUSD_2L_monitor','MIKA_EDGE','BAO','INTRAF'};\r","seq_2L_SUSD = {'WH_SUSD','MI','BAO','INTRAF'};\r","seq_2L_SUSD_MIKA_EDGE = {'WH_SUSD','MIKA_EDGE','BAO','INTRAF'};\r","\r","submodel_sequence = {seq_1L_default;seq_1L_MIKA_EDGE;seq_1L_SUSD;seq_1L_MIKA_EDGE_SUSD;...\r","    seq_2L_default;seq_2L_MIKA_EDGE;seq_2L_SUSD;seq_2L_SUSD_MIKA_EDGE};\r","\r","cm_contents = sub_get_cm_contents(submodel_sequence);\r","T = table(layer, susd, ka, submodel_sequence, cm_contents);\r","\r","\r","function cm = sub_get_cm_contents(submodel_sequence)\r","\r","for i = 1:length(submodel_sequence)\r","    cm_contents.OR = {'WH', 'SUSD', 'MIX', 'MIY', 'INTERF', 'INTRAF', 'KA_POLY_NONLINEAR','KA_EDGE'};\r","    for j = 1:length(submodel_sequence{i})\r","        switch submodel_sequence{i}{j}\r","            case 'MIKA_EDGE'\r","                cm_contents.MIKA_EDGE = {'MIX', 'MIY', 'INTERFMAG', 'KA_POLY','KA_EDGE', 'INTRAF'};\r","            case {'SUSD_1L', 'SUSD_1L_monitor'}\r","                cm_contents.SUSD_1L = {'SUSD', 'MIX', 'MIY', 'INTERF', 'INTRAF', 'KA_POLY_NONLINEAR','KA_EDGE'};\r","            case {'SUSD_2L_monitor', 'WH_SUSD'}\r","                cm_contents.WH_SUSD = {'WH', 'SUSD'};\r","            case {'WH'}\r","                cm_contents.WH = {'WH'};\r","            case {'MI'}\r","                cm_contents.MI = {'MIX', 'MIY'};\r","        end\r","    end\r","    cm{i, 1} = cm_contents;\r","end"],"CoverageData":{"CoveredLineNumbers":[16,18,19,20,22,23,28,29,30,31,32,33,34,35,36,37,38,40,41,43,44,49,50,51,52,53,54,55,56,57,58,59,60,61,62,65],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,9,9,9,0,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,9,9,0,9,9,0,9,9,0,0,0,0,9,72,72,306,306,36,270,36,234,36,198,18,180,36,0,0,72,0]}}