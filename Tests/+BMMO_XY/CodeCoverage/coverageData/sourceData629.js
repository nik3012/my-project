var sourceData629 = {"FileContents":["function test_suite = test_bmmo_apply_ewma_filter\r","\r","suite = initTestSuite2016(localfunctions);\r","if nargout==0\r","    suite.run();\r","else\r","    test_suite = suite;\r","end\r","\r","\r","function test_bmmo_apply_ewma_filter_case1\r","\r","input_struct = bmmo_default_input;\r","input_struct.info.report_data.time_filtering_enabled = 1;\r","input_struct = bmmo_set_default_configuration_data(input_struct);\r","\r","input_struct.info.previous_correction.BAO(1).TranslationX = 0.8;\r","input_struct.info.previous_correction.BAO(2).TranslationX = 0.7;\r","input_struct.info.configuration_data.filter.coeff_BAO = 0.4;\r","\r","[mlp, options] = bmmo_process_input(input_struct);\r","\r","model_results = bmmo_default_model_result(mlp, options);\r","\r","model_results.BAO.correction(1).tx = -1;\r","model_results.BAO.correction(2).tx = -0.5;\r","\r","\r","[corr_out, kpi_out] = bmmo_apply_ewma_filter(model_results, options);\r","corr_out = bmmo_KA_remove_interpolants(corr_out);\r","kpi_out.total_filtered = bmmo_KA_remove_interpolants(kpi_out.total_filtered);\r","\r","\r","% check that kpi_out has been distributed properly\r","\r","bmmo_assert_equal(kpi_out.delta_filtered.BAO(1).TranslationX, 0.4);\r","bmmo_assert_equal(kpi_out.delta_filtered.BAO(2).TranslationX, 0.4 * 0.5);\r","bmmo_assert_equal(kpi_out.delta_unfiltered.BAO(1).TranslationX, 1);\r","bmmo_assert_equal(kpi_out.delta_unfiltered.BAO(2).TranslationX, 0.5);\r","bmmo_assert_equal(kpi_out.total_filtered.BAO(1).TranslationX, 0.4 + 0.8);\r","bmmo_assert_equal(kpi_out.total_filtered.BAO(2).TranslationX, 0.4 * 0.5 + 0.7);\r","bmmo_assert_equal(kpi_out.total_unfiltered.BAO(1).TranslationX, 1 + 0.8);\r","bmmo_assert_equal(kpi_out.total_unfiltered.BAO(2).TranslationX, 0.5 + 0.7);\r","\r","bmmo_assert_equal(corr_out, kpi_out.total_filtered);\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[3,4,5,6,7,13,14,15,17,18,19,21,23,25,26,29,30,31,36,37,38,39,40,41,42,43,45],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}