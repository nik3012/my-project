var sourceData188 = {"FileContents":["function [mlo, sbc] = bmmo_undo_sbc_correction(mli, options)\r","% function [mlo, sbc] = bmmo_undo_sbc_correction(mli, options)\r","%\r","% This function removes the sbc correction applied during exposure of\r","% monitor lot, for calculation of uncontrolled KPI\r","%\r","% Input:\r","% mli:      YieldStar measurement translated by LCP Java SW layer. mli also\r","%           includes additional scanner data that is needed during modeling\r","% options:  bmmo-nxe default options structure\r","%\r","% Output:\r","% mlo:       Same structure as mli, with corrections during exposure reverted\r","% sbc:       structure containing the following fields:\r","%   KA:  KA fingerprint\r","%   MI:  MI fingerprint\r","%   BAO: BAO fingerprint\r","%   INTRAF: INTRAF fingerprint\r","%   WH: WH fingerprint\r","%   SUSD: SUSD fingerprint\r","% \r","% For details of the model and definitions of in/out interfaces, refer to\r","% D000810611 EDS BMMO NXE drift control model\r","\r","mlo = mli;\r","pc = options.previous_correction;\r","\r","% pc.ffp contains the real inlineSDM fingerprint. Convert this directly to\r","% the input layout\r","intraf = bmmo_ffp_to_ml_simple(pc.ffp, mli, options);\r","\r","% get measurement layout\r","intraf = ovl_combine_linear(mli, 0, intraf, 1);\r","\r","% use WH fp per wafer for de-correction\r","options.WH.use_input_fp_per_wafer = 1;\r","\r","% use ADELwafergrid KA for de-correction (BL3)\r","if options.bl3_model\r","    if isfield(options, 'KA_act_corr')\r","        pc.KA = rmfield(pc.KA, 'grid_2de');\r","        pc.KA.act_corr = options.KA_act_corr;\r","    else\r","        warning('KA_act_corr field obtained from ADELwaferGridResidualReportProtected is missing, generating KA fingerprint using configured options instead')\r","    end\r","end\r","\r","sbc = bmmo_get_sbc_fingerprints(intraf, options, pc);\r","\r","mlo = ovl_sub(mlo, sbc.TotalSBCcorrection);\r",""],"CoverageData":{"CoveredLineNumbers":[25,26,30,33,36,39,48,50],"UnhitLineNumbers":[40,41,42,43,44],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,126,0,0,0,126,0,0,126,0,0,126,0,0,126,0,0,0,0,0,0,0,0,126,0,126,0]}}