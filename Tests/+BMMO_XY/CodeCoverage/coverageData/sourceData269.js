var sourceData269 = {"FileContents":["classdef testBmmoEwmaFilter < BMMO_XY.tools.testSuite\r","    \r","    methods(Test)\r","        \r","        %% test 1: all zeros\r","        function test_bmmo_ewma_filter_all_zero(obj)\r","            % Given\r","            options = bmmo_default_options_structure;\r","            options.susd_control = 1;            \r","            delta_out = bmmo_default_output_structure(options);\r","            delta_corr = delta_out.corr;            \r","            prev_out = bmmo_default_output_structure(options);\r","            prev_corr = prev_out.corr;            \r","            coefficients = bmmo_get_empty_filter;\r","            nz_coefficients = coefficients;\r","            nz_coefficients.BAO = 0.5;\r","            nz_coefficients.WH = 0.9;\r","            nz_coefficients.INTRAF = 0.1;\r","            nz_coefficients.MI = 0.3;\r","            nz_coefficients.SUSD = 0.9;            \r","            \r","            % When\r","            new_corr = bmmo_ewma_filter(delta_corr, prev_corr, coefficients);\r","            new_corr_nz_coeff = bmmo_ewma_filter(delta_corr, prev_corr, nz_coefficients);\r","            \r","            % Then\r","            obj.verifyWithinTol(new_corr, delta_corr);\r","            obj.verifyWithinTol(new_corr_nz_coeff, new_corr);\r","        end\r","        \r","        %% test 2: check BAO coefficients\r","        function test_bmmo_ewma_filter_bao(obj)\r","            % Given\r","            options = bmmo_default_options_structure;\r","            delta_out = bmmo_default_output_structure(options);\r","            corr_zero = delta_out.corr;\r","            delta_corr_nz = corr_zero;\r","            delta_corr_nz.BAO(1).TranslationX = 0.3;\r","            delta_corr_nz.BAO(2).TranslationX = 0.4;\r","            prev_corr_nz = corr_zero;\r","            prev_corr_nz.BAO(1).TranslationX = 1;\r","            prev_corr_nz.BAO(2).TranslationX = 0.9;\r","            coefficients = bmmo_get_empty_filter;\r","            coefficients2 = coefficients;\r","            coefficients2.BAO = 0.6;\r","            \r","            % When\r","            new_corr_prev_only = bmmo_ewma_filter(corr_zero, prev_corr_nz, coefficients2);\r","            new_corr_new_only = bmmo_ewma_filter(delta_corr_nz, corr_zero, coefficients2);\r","            new_corr_combined = bmmo_ewma_filter(delta_corr_nz, prev_corr_nz, coefficients2);\r","            \r","            % Then\r","            obj.verifyWithinTol(new_corr_prev_only.BAO(1).TranslationX, 1);\r","            obj.verifyWithinTol(new_corr_prev_only.BAO(2).TranslationX, 0.9);\r","            obj.verifyWithinTol(new_corr_new_only.BAO(1).TranslationX, 0.3 * 0.6);\r","            obj.verifyWithinTol(new_corr_new_only.BAO(2).TranslationX, 0.4 * 0.6);\r","            obj.verifyWithinTol(new_corr_combined.BAO(1).TranslationX, (0.3 * 0.6) + 1);\r","            obj.verifyWithinTol(new_corr_combined.BAO(2).TranslationX, (0.4 * 0.6) + 0.9);\r","        end\r","        \r","        %% test 3\r","        function test_bmmo_ewma_filter_susd(obj)\r","            % Given\r","            options = bmmo_default_options_structure;\r","            options.susd_control = 1;\r","            delta_out = bmmo_default_output_structure(options);\r","            corr_zero = delta_out.corr;\r","            delta_corr_nz = corr_zero;\r","            prev_corr_nz = corr_zero;\r","            for ic = 1:2\r","                delta_corr_nz.SUSD(ic).TranslationY = ic;\r","                prev_corr_nz.SUSD(ic).TranslationY = 3 - ic;\r","            end\r","            coefficients = bmmo_get_empty_filter;\r","            coefficients.SUSD = 0.4;\r","            \r","            % When\r","            new_corr_prev_only = bmmo_ewma_filter(corr_zero, prev_corr_nz, coefficients);\r","            new_corr_new_only = bmmo_ewma_filter(delta_corr_nz, corr_zero, coefficients);\r","            new_corr_combined = bmmo_ewma_filter(delta_corr_nz, prev_corr_nz, coefficients);\r","            \r","            % Then\r","            obj.verifyWithinTol(new_corr_prev_only.SUSD(1).TranslationY, 2);\r","            obj.verifyWithinTol(new_corr_prev_only.SUSD(2).TranslationY, 1);\r","            obj.verifyWithinTol(new_corr_new_only.SUSD(1).TranslationY, 1 * 0.4);\r","            obj.verifyWithinTol(new_corr_new_only.SUSD(2).TranslationY, 2 * 0.4);\r","            obj.verifyWithinTol(new_corr_combined.SUSD(1).TranslationY, (1 * 0.4) + 2);\r","            obj.verifyWithinTol(new_corr_combined.SUSD(2).TranslationY, (2 * 0.4) + 1);\r","        end\r","        \r","    end\r","    \r","end\r","\r",""],"CoverageData":{"CoveredLineNumbers":[8,9,10,11,12,13,14,15,16,17,18,19,20,23,24,27,28,34,35,36,37,38,39,40,41,42,43,44,45,48,49,50,53,54,55,56,57,58,64,65,66,67,68,69,70,71,72,74,75,78,79,80,83,84,85,86,87,88],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,2,2,0,1,1,0,0,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0]}}