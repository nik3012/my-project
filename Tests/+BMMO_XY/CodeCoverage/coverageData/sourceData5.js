var sourceData5 = {"FileContents":["function output_struct = bl3_fix_previous_correction_KA_HOC_zeros(input_struct)\r","%function output_struct = bl3_fix_previous_correction_KA_HOC_zeros(input_struct)\r","%\r","% This function inserts zeros in the KA map of the previous correction.\r","% It is only required when running BL3 model using BMMO NXE data. The new\r","% (zero) grid will be of high density with 1mm pitch.\r","%\r","% Input :\r","%  input_struct: input data structure \r","%                     \r","% Output:\r","%  output_struct: copy of input_struct with zeroed KA@E map in 401 x 401\r","%  and zeroed KA@M map in 301 x 301\r","\r","output_struct = input_struct;\r","\r","KA_HOC_options = bl3_default_options_structure;\r","parmc = ovl_metro_par_mc('KA_pitch', KA_HOC_options.KA_pitch, 'KA_bound', ...\r","    abs(KA_HOC_options.KA_start), 'KA_radius', abs(KA_HOC_options.KA_start));\r","parmc_meas = ovl_metro_par_mc('KA_pitch', KA_HOC_options.KA_pitch, 'KA_bound', ...\r","    abs(KA_HOC_options.KA_meas_start), 'KA_radius', abs(KA_HOC_options.KA_meas_start));\r","\r","for ichk = 1:2\r","    parmc.KA.raw.grid_2de(ichk).dx = zeros(size(parmc.KA.raw.grid_2de(ichk).dx));\r","    parmc.KA.raw.grid_2de(ichk).dy = zeros(size(parmc.KA.raw.grid_2de(ichk).dy));\r","    parmc_meas.KA.raw.grid_2dc(ichk).dx = zeros(size(parmc_meas.KA.raw.grid_2dc(ichk).dx));\r","    parmc_meas.KA.raw.grid_2dc(ichk).dy = zeros(size(parmc_meas.KA.raw.grid_2dc(ichk).dy));\r","end\r","output_struct.info.previous_correction.KA.grid_2de =  parmc.KA.raw.grid_2de;\r","output_struct.info.previous_correction.KA.grid_2dc =  parmc_meas.KA.raw.grid_2dc;\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[15,17,18,19,20,21,23,24,25,26,27,29,30],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}