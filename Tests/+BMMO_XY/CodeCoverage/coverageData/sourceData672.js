var sourceData672 = {"FileContents":["function test_suite = test_bmmo_intraf_sign\r","suite = initTestSuite2016(localfunctions);\r","if nargout==0\r","    suite.run();\r","else\r","    test_suite = suite;\r","end\r","\r","function test_bmmo_intraf_sign_case1\r","\r","mlz = bmmo_default_input;\r","\r","% perform field reconstruction\r","mlp = bmmo_process_input(mlz);\r","\r","% Add some positive INTRAF content\r","[~, par18] = ovl_model(mlz, '18par');\r","\r","fn = fieldnames(par18);\r","for i = 1:length(fn)\r","    par18.(fn{i}) = 1e-9;\r","end\r","\r","mlp = ovl_model(mlp, 'apply', par18);\r","mlp = bmmo_convert_to_smf(mlp);\r","input = mlz;\r","input.layer = mlp.layer;\r","input.info.previous_correction = bmmo_add_missing_corr(input.info.previous_correction);\r","input.configurable_options.submodel_sequence = {'INTRAF'};\r","\r","% run the model\r","\r","\r","out = bmmo_nxe_drift_control_model(input);\r","\r","\r","\r","intradata = out.corr.ffp(1);\r","\r","mlout.wd.xf = intradata.x;\r","mlout.wd.yf = intradata.y;\r","mlout.wd.xw = mlout.wd.xf;\r","mlout.wd.yw = mlout.wd.yf;\r","mlout.wd.xc = zeros(size(mlout.wd.xf));\r","mlout.wd.yc = zeros(size(mlout.wd.xf));\r","\r","mlout.layer.wr.dx = intradata.dx;\r","mlout.layer.wr.dy = intradata.dy;\r","\r","mlout.nwafer = 1;\r","mlout.nlayer = 1;\r","mlout.nfield = 1;\r","mlout.nmark = length(intradata.x);\r","\r","\r","[~, par_out] = ovl_model(mlout, '18par');\r","\r","fn = fieldnames(par_out);\r","for i = 1:length(fn)\r","    assert(par_out.(fn{i}) < 1e-12);\r","end\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[2,3,4,5,6,11,14,17,19,20,21,24,25,26,27,28,29,34,38,40,41,42,43,44,45,47,48,50,51,52,53,56,58,59,60],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}