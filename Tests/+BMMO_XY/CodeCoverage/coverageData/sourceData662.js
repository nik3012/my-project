var sourceData662 = {"FileContents":["function test_suite = test_bmmo_get_dynamic_filter_coefficients\r","\r","suite = initTestSuite2016(localfunctions);\r","if nargout==0\r","    suite.run();\r","else\r","    test_suite = suite;\r","end\r","\r","% delta_t <= T1: \r","function test_case_1\r","\r","filter_in = bmmo_get_empty_filter;\r","\r","T1 = 7:19; \r","T2 = 20;\r","wafers_per_chuck = 3;\r","\r","fn = fieldnames(filter_in);\r","\r","for ii = T1\r","    delta_t = 0:ii;\r","    filter_out = bmmo_get_dynamic_filter_coefficients(filter_in, delta_t, wafers_per_chuck, ii, T2, 'OTAS');\r","    \r","    for jj = 1:length(delta_t)\r","        for kk = 1:length(fn)\r","            bmmo_assert_equal(filter_in.(fn{kk}), filter_out.(fn{kk})(jj));\r","        end\r","    end\r","end\r","\r","\r","\r","% delta_t >= T2;\r","function test_case_2\r","\r","filter_in = bmmo_get_empty_filter;\r","\r","T1 = 7; \r","T2 = 20:-1:8;\r","wafers_per_chuck = 3;\r","\r","fn = fieldnames(filter_in);\r","\r","for ii = T2\r","    delta_t = ii:20;\r","    filter_out = bmmo_get_dynamic_filter_coefficients(filter_in, delta_t, wafers_per_chuck, T1, ii, 'OTAS');\r","    \r","    for jj = 1:length(delta_t)\r","        for kk = 1:length(fn)\r","            bmmo_assert_equal(filter_in.(fn{kk}), filter_out.(fn{kk})(jj));\r","        end\r","    end\r","end\r","\r","\r","\r","% delta_t between T1 and T2\r","function test_case_3\r","\r","filter_in = bmmo_get_empty_filter;\r","\r","T1 = 7; \r","T2 = 20;\r","wafers_per_chuck = 3;\r","\r","fn = fieldnames(filter_in);\r","\r","\r","delta_t = 7:20;\r","filter_out = bmmo_get_dynamic_filter_coefficients(filter_in, delta_t, wafers_per_chuck, T1, T2, 'OTAS');\r","\r","% linearity check\r","for kk = 1:length(fn)\r","    assert(all(abs(diff(diff(filter_out.(fn{kk})))) < eps));\r","end\r","\r","\r","\r","% changing wafers per chuck\r","function test_case_4\r","\r","filter_in = bmmo_get_empty_filter;\r","\r","T1 = 7; \r","T2 = 20;\r","fn = fieldnames(filter_in);\r","\r","delta_t = 2;\r","for iw = 1:3\r","    filter_out(iw) = bmmo_get_dynamic_filter_coefficients(filter_in, delta_t, iw, T1, T2, 'OTAS');\r","end\r","\r","% linearity check\r","scale_test = sqrt(3 ./ [1 2 3]);\r","for kk = 1:length(fn)\r","       fv = [filter_out.(fn{kk})];\r","       fv = fv .* scale_test;\r","       assert(all(abs(fv - 1) < eps));\r","end\r","\r","\r","% test case of four wafers per chuck\r","function test_case_5\r","\r","filter_in = bmmo_get_empty_filter;\r","\r","T1 = 7;\r","T2 = 20;\r","wafers_per_chuck = 4;\r","\r","fn = fieldnames(filter_in);\r","delta_t = 1:20;\r","\r","filter_out = bmmo_get_dynamic_filter_coefficients(filter_in, delta_t, wafers_per_chuck, T1, T2, 'OTAS');\r","\r","for kk = 1:length(fn)\r","   assert(all(filter_out.(fn{kk}) <= 1)); \r","end\r","\r","% test case for BL3/BMMO NXE in LIS + adjustable time filter\r","function test_case_6\r","\r","load([bmmo_testdata_root filesep 'adaptive_time_filter_BL3_LIS.mat']);\r","\r","filter_in.WH = 0.1;\r","filter_in.MI = 0.3;\r","filter_in.BAO = 0.6;\r","filter_in.KA = 0.4;\r","filter_in.INTRAF = 0.5;\r","filter_in.SUSD = 0.2;\r","\r","T1 = 7;\r","T2 = 20;\r","wafers_per_chuck = [1 2 2];\r","\r","fn = fieldnames(filter_in);\r","delta_t = [6.4583 11.4583 20.4583];\r","\r","for i = 1:length(wafers_per_chuck)\r","    filter_out = bmmo_get_dynamic_filter_coefficients(filter_in, delta_t(i), wafers_per_chuck(i), T1, T2, 'LIS');\r","    bmmo_assert_equal(filter_out, test_filter_out(i));\r","end"],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[3,4,5,6,7,13,15,16,17,19,21,22,23,25,26,27,37,39,40,41,43,45,46,47,49,50,51,61,63,64,65,67,70,71,74,75,83,85,86,87,89,90,91,95,96,97,98,99,106,108,109,110,112,113,115,117,118,124,126,127,128,129,130,131,133,134,135,137,138,140,141,142],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}