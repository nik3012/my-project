var sourceData327 = {"FileContents":["classdef testBmmoReferenceMmo < BMMO_XY.tools.testSuite\r","    \r","    methods(Test)\r","        \r","        %% Test Case\r","        function test_bmmo_reference_mmo_proto(obj)\r","            % Given\r","            load([bmmo_testdata_root filesep 'atp_reference_input.mat']);           % load the bmmo input and reference atp\r","            load([bmmo_testdata_root filesep 'bmmo_verification_input.mat']);\r","            \r","            % When\r","            ref_mmo = ovl_bmmo_model_mmo(atp_tlg);                                  % calculate the overlay of the reference atp after mmo modelling\r","            ov_ref = ovl_calc_overlay(ref_mmo, 'vector');            \r","            input_struct.configurable_options.x_shift = [0 -260e-6; 0 -260e-6];\r","            input_struct.configurable_options.y_shift = [0 -40e-6; 0 -40e-6];\r","            input_struct.info.previous_correction = bmmo_add_missing_corr(input_struct.info.previous_correction);\r","            out = bmmo_nxe_drift_control_model(input_struct);                       % generate an sbc correction\r","            sbc = out.corr; \r","            fps = bmmo_apply_SBC_to_ml(atp_tlg, sbc);                               % apply it on the reference\r","            ref_corr = ovl_add(atp_tlg, fps.TotalSBCcorrection);    \r","            ref_corr_mmo = ovl_bmmo_model_mmo(ref_corr);                            % calculate the overlay of the SBC-corrected reference after mmo modelling\r","            ov_corr = ovl_calc_overlay(ref_corr_mmo, 'vector');\r","            \r","            % Then\r","            obj.verifyTrue(ov_corr.ov997 <= sqrt((ov_ref.ov997.^2) + (6e-10).^2));  % get the difference and check it is within spec\r","        end\r","        \r","    end\r","    \r","end"],"CoverageData":{"CoveredLineNumbers":[8,9,12,13,14,15,16,17,18,19,20,21,22,25],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0]}}