var sourceData78 = {"FileContents":["function options = bmmo_default_options_structure\r","% function options = bmmo_default_options_structure\r","%\r","% This function generates the default option structure for BMMO NXE drift\r","% control model.\r","%\r","% Input:\r","%\r","% Output: \r","% options:  generated structure.\r","%\r","% For details of the model and definitions of in/out interfaces, refer to\r","% D000810611 EDS BMMO NXE drift control model\r","\r","%% SUB-MODEL SEQUENCE\r","options.submodel_sequence                =  {'WH', 'SUSD_2L_monitor', 'MI', 'BAO', 'INTRAF'};\r","options = bmmo_get_submodel_options(options);\r","options.no_layer_to_use = 2;\r","\r","%% Parameter list used for overlay modelling\r","options.parlist = bmmo_parlist;\r","\r","%% Switch for undo_correction before modelling\r","% Off by default\r","options.undo_before_modelling = 0;\r","\r","%% Switch for SUSD\r","options.susd_control = 0;\r","\r","%% switch for inverting mirror sign at measure side, i.e. measure = - expose, default ON\r","options.invert_MI_wsm_sign = 1;\r","\r","%% COMBINED MODEL CONTENTS\r","options.combined_model_contents = struct;\r","\r","%% INPUT PROCESSING OPTIONS\r","% options.mark_type                        =  'rint'; % default supported input: ys, xpa, rint\r","options.layout_type                      =  'bmmo';  \r","options.wafersize                        =  0.300;\r","\r","%% FIELD RECONSTRUCTION OPTIONS\r","\r","% 2-layer default fields\r","options.layer_fields{1} = 1:87; % note that ml.expinfo must contain at least this number of fields \r","options.layer_fields{2} = 88; % first field of layer 2 \r","\r","% xc,xf shifts relative to expinfo field centres (cols) per layer (rows)\r","options.x_shift = [0 0; 0 0];\r","% yc,yf shifts relative to expinfo field centers (cols) per layer (rows)\r","options.y_shift = [0 0; 0 0];\r","options.model_shift.x = options.x_shift;\r","options.model_shift.y = options.y_shift;\r","\r","% field IDS of edge fields in layer 2 (if applicable)\r","options.edge_fields = [125 136];\r","\r","%% CHUCK OPTIONS\r","options.chuck_usage.chuck_id_used = [1 2];\r","options.chuck_usage.chuck_id = [1 2 1 2 1 2];\r","options.chuck_usage.nr_chuck_used = 2;\r","\r","\r","%% WH MODEL OPTIONS\r","options.WH.use_input_fp                  = 0;\r","options.WH.use_input_fp_per_wafer        = 0;  \r","options.WH.fp                            = [];\r","options.WH.use_raw                       = 0;   % set to 1 if ml.raw 2-layer data is present\r","options.Rir2euv = 0.625;\r","\r","% WH resampling to 7x7\r","options.WH_resample_options.nan_interpolation  = 'false';\r","options.WH_resample_options.wafersize          = 1e8; % simulate ovl_interp_layout behaviour; ensure that edges won't be removed\r","options.WH_resample_options.bounding_box       = 'none';\r","options.WH_resample_options.interp_type        = 'nearest';\r","\r","% relative layer shifts\r","options.WH.l1_shift_x = 0;\r","options.WH.l1_shift_y = -520e-6;\r","options.WH.l2_shift_x = 0;\r","options.WH.l2_shift_y = 520e-6;\r","\r","% WH sensitivity data\r","options.WH.rir                 = 0.5;\r","options.WH.tir                 = 1;\r","options.WH.pdgl                = 0.03;\r","options.WH.slip                = 24;\r","options.WH.tret                = 0.04;\r","\r","% Empirical constants for WH sensitivity calculation, including lookup\r","% table for c\r","options.WH.a                = 0.92;\r","options.WH.b                = 1.38;\r","options.WH.c_mapping.slip   = [10 15 20 25];\r","options.WH.c_mapping.c      = [0.6 0.6 0.6 0.6];\r","\r","%% KA MODEL OPTIONS\r","options.KA_control                       = 0;\r","options.KA_measure_enabled               = 0;\r","options.KA_pitch                         =  0.005;\r","options.KA_bound                         = 0.150;\r","options.KA_meas_bound                    = options.KA_bound;\r","options.KA_start                         = -0.150;\r","options.KA_meas_start                    = options.KA_start;\r","options.KA_length                        =  61;\r","options.KA_interp_type                   = 'linear';\r","options.KA_interp_pitch                  = 0.030;\r","options.KA_poly_order                    = 5;\r","options.KA.fit_poly                      = 1;\r","\r","options.fieldsize                        = [26 33] * 1e-3;  % field size in m, for bmmo_apply_KA\r","options.wafer_radius_in_mm               = 150;\r","\r","% KA  resampling\r","options.KA_resample_options.nan_interpolation      = 'none';\r","options.KA_resample_options.bounding_box           = 'none';\r","options.KA_resample_options.wafersize              = options.wafersize;\r","options.KA_resample_options.interp_type            = options.KA_interp_type;\r","options.KA_resample_options.gauss_radius           = options.KA_interp_pitch;\r","\r","options.KA_actuation.type = 'LOC';\r","options.KA_actuation.fnhandle = @bmmo_KA_LOC_fingerprint;\r","options.CET_marklayout = [25.44, 33, 13, 19];\r","\r","%% MI MODEL OPTIONS\r","options.map_param.start_position         = -0.200;\r","options.map_param.pitch                  =  0.001;\r","options.map_table_length                 = 401;\r","options.edge_clearance                   = 0.147;\r","options.xty_spline_params.x_start        = -0.135;\r","options.xty_spline_params.x_end          =  0.135;\r","options.xty_spline_params.nr_segments    = 11;\r","options.ytx_spline_params.x_start        = -0.135;\r","options.ytx_spline_params.x_end          =  0.135;\r","options.ytx_spline_params.nr_segments    = 11;\r","options.lens_type                        = [];\r","options.scaling_factor                   = 1e9;\r","\r","options.FIWA_mark_locations.mark_type                   = 'BF';\r","options.FIWA_mark_locations.x              = [-103.58  -103.58  -73.90...  \r","                                          -73.90 -44.22 -44.22...  \r","                                          -14.54  -14.54   15.14...\r","                                           15.14   44.82 44.82  74.50...\r","                                           74.50  104.18 104.18]*1e-3;\r","options.FIWA_mark_locations.x_pitch                     = 29.68*1e-3;                                       \r","options.FIWA_mark_locations.y              = [-19.4905 18.3515 -57.3325...\r","                                           56.1935 -95.1745  94.0355...\r","                                          -95.1745  94.0355 -95.1745...\r","                                          94.0355 -95.1745 94.0355 -57.3325... \r","                                          56.1935 -19.4905 18.3515]*1e-3;\r","options.FIWA_mark_locations.y_pitch                     = 37.8420*1e-3;\r","options.extra_splines                    = [1 1 1 1];\r","\r","% hardcoded Q_grid for 3300, 3350, 3400 machines, lens type 33\r","options.Q_grid.x          = [-0.0127 -0.0106 -0.0085 ...\r","                                    -0.0064 -0.0042 -0.0021 ...\r","                                    0 0.0021 0.0042 0.0064 ...\r","                                    0.0085 0.0106 0.0127];\r","options.Q_grid.y          = [ 1.0000e-03   3.6600e-04 ...\r","                                    -1.4600e-04  -5.3900e-04 ...\r","                                    -8.1800e-04  -9.8400e-04 ...\r","                                    -1.0390e-03  -9.8400e-04 ...\r","                                    -8.1800e-04  -5.3900e-04...\r","                                    -1.4600e-04 3.6600e-04 ...\r","                                    1.0000e-03];\r","\r","\r","options.fid_intrafield                   = [21 23 31 32 34 35 54 55 ...\r","                                            57 58 66 68];\r","options.fid_left_right_edgefield         = [17 27 28 39 50 61 62 72 ...\r","                                            88 89];\r","options.fid_top_bottom_edgefield         = [3 4 5 82 83 84];\r","\r","%% INTRAF MODEL OPTIONS\r","options.intraf_resample_options.nan_interpolation = 'diagonal';\r","options.intraf_resample_options.bounding_box = [-0.0165 -0.0165 0.0165 ...\r","    0.0165; -0.0165 0.0165 -0.0165 0.0165]';\r","options.intraf_resample_options.interp_type = 'spline';\r","options.intraf_resample_options.extrap_type = 'linear';\r","options.intraf_resample_options.wafersize = 300;\r","options.intraf_resample_options.resample_function = @bmmo_resample;\r","\r","\r","%% intrafield model options and reporting\r","options.intraf_actuation_order = 3;\r","options = bmmo_options_intraf(options, options.intraf_actuation_order);\r","options.intraf_actuation.fnhandle = @bmmo_INTRAF_par_fingerprint;\r","\r","%% OUTPUT PROCESSING OPTIONS\r","options.intrafield_reticle_layout        = 'BA-XY-DYNA-13X19';\r","options.reduced_reticle_layout           = 'BA-XY-DYNA-7X7';\r","\r","%% OUTLIER REMOVAL OPTIONS\r","options.do_outlier_removal               = 1;\r","options.outlier_coverage_factor          = 4.0;\r","options.outlier_max_ovl                  = 1e-6;\r","options.outlier_check_radius             = 0.01;\r","options.outlier_max_fraction             = 0.25;\r","\r","% w2w outlier removal options\r","options.ol_w2w.outlier_coverage_factor = options.outlier_coverage_factor;\r","options.ol_w2w.outliers_returned = 'all_outliers'; % remove all discovered outliers per iteration\r","options.ol_w2w.outlier_std = 'per_layer';          % calculate std across all wafers on each chuck\r","options.ol_w2w.max_iter = 1;\r","options.ol_w2w.showdetails = 0;\r","options.ol_w2w.absolute_threshold = 1e-12;\r","options.ol_w2w.min_std = 1e-12;\r","\r","% combined model outlier removal options\r","options.ol_cm.outlier_coverage_factor = options.outlier_coverage_factor;\r","options.ol_cm.outlier_std = 'per_wafer';\r","options.ol_cm.showdetails = 0;\r","options.ol_cm.outliers_returned = 'per_field';\r","options.ol_cm.max_iter = 5;\r","options.ol_cm.absolute_threshold = 1e-9;\r","options.ol_cm.min_std = 1e-12;\r","\r","\r","%% MODEL-INPUT DEPENDENT OPTIONS\r","options.FIWA_translation                 = [];\r","options.Scan_direction                   = [-1;1;-1;1;-1;1;-1;-1;1;-1;1;...\r","    -1;1;-1;1;-1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;...\r","    -1;1;-1;1;-1;1;-1;1;-1;1;-1;1;1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;...\r","    1;-1;1;-1;1;-1;-1;1;-1;1;-1;1;-1;1;-1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;1;1;...\r","    -1;1;-1;1;-1;1;-1;1;1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;...\r","    1;-1;-1;1;-1;1;-1;1;-1;1;-1;1;-1;1;1;-1;1;-1;1;-1;1;-1;1;-1;1;1;-1;1;...\r","    -1;1;-1;1;-1;1;-1;1;1;-1;1;-1;1;-1;1;-1;1];\r","options.WH_K_factors                     = [];\r","options.IR2EUVsensitivity                = [];\r","options.Rir2euv                          = [];\r","options.previous_correction              = [];\r","\r","\r","\r","%% OPTIONS FOR COMBINED MODEL\r","options.INTERF.name = {'rws', 'rwa', 'mws', 'mwa'};  % interfield parameters\r","options.INTERFMAG.name = {'mws', 'mwa'};\r","options.INTRAF.name = {'mx','my','rx','ry','d2','k8','k9','k10','bowxf','bowyf','d3','mag3y','accx','accy','cshpx','cshpy','flw3x','flw3y'};   % 18 intrafield parameters\r","options.INTRAF.scaling = [ 1e1*ones(1,4) 1e3*ones(1,6) 1e5*ones(1,8)];  % FP Scaling to make the matrix elements to be O(10^(-1))~O(1) \r","\r","% The KA polynomial orders to include in the combined model \r","% If KA is in the combined model, uncomment the following line and change\r","% it to include the desired polynomial orders of KA\r","options.KA_orders = [2 3 4 5]; \r","\r","%% OPTIONS FOR TIME FILTERING\r","options.filter.T1 = 7;\r","options.filter.T2 = 20;\r","\r","options.filter.coefficients = bmmo_get_empty_filter;\r","\r","options.filter.function = @bmmo_apply_ewma_filter;\r","options.filter.T_previous_expose = 0;\r","options.filter.T_current_expose = 1;\r","\r","%% IFO CORRECTION SCAN DIRECTIONS\r","% From ADEL SBC2a definition: ch1 scan down, ch1 scan up, ch2 scan down, ch2 scan up\r","options.IFO_scan_direction = [-1 1 -1 1];\r","\r","%% PREVIOUS CORRECTION\r","temp_out = bmmo_default_output_structure(options);\r","options.previous_correction = temp_out.corr;\r","\r","options.platform = 'OTAS';\r","options.bl3_model = 0;\r","%% INLINE SDM CONFIGURATION\r","options.inline_sdm_config.fnhandle = @bmmo_3400C_model_configuration;\r","options.inline_sdm_config.machine_type = 'NXE3400C';\r","%% ERO KPI options\r","options.ERO.inner_radius = 0.140;\r","options.ERO.edge_radius = 0.1451;\r","options.ERO.outer_radius_input = 0.150;\r","options.ERO.outer_radius_KA = 0.1470001;\r","\r",""],"CoverageData":{"CoveredLineNumbers":[16,17,18,21,25,28,31,34,38,39,44,45,48,50,51,52,55,58,59,60,64,65,66,67,68,71,72,73,74,77,78,79,80,83,84,85,86,87,91,92,93,94,97,98,99,100,101,102,103,104,105,106,107,108,110,111,114,115,116,117,118,120,121,122,125,126,127,128,129,130,131,132,133,134,135,136,138,139,144,145,150,151,154,158,167,169,171,174,175,177,178,179,180,184,185,186,189,190,193,194,195,196,197,200,201,202,203,204,205,206,209,210,211,212,213,214,215,219,220,227,228,229,230,235,236,237,238,243,246,247,249,251,252,253,257,260,261,263,264,266,267,269,270,271,272],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2920,2920,2920,0,0,2920,0,0,0,2920,0,0,2920,0,0,2920,0,0,2920,0,0,0,2920,2920,0,0,0,0,2920,2920,0,0,2920,0,2920,2920,2920,0,0,2920,0,0,2920,2920,2920,0,0,0,2920,2920,2920,2920,2920,0,0,2920,2920,2920,2920,0,0,2920,2920,2920,2920,0,0,2920,2920,2920,2920,2920,0,0,0,2920,2920,2920,2920,0,0,2920,2920,2920,2920,2920,2920,2920,2920,2920,2920,2920,2920,0,2920,2920,0,0,2920,2920,2920,2920,2920,0,2920,2920,2920,0,0,2920,2920,2920,2920,2920,2920,2920,2920,2920,2920,2920,2920,0,2920,2920,0,0,0,0,2920,2920,0,0,0,0,2920,2920,0,0,2920,0,0,0,2920,0,0,0,0,0,0,0,0,2920,0,2920,0,2920,0,0,2920,2920,0,2920,2920,2920,2920,0,0,0,2920,2920,2920,0,0,2920,2920,0,0,2920,2920,2920,2920,2920,0,0,2920,2920,2920,2920,2920,2920,2920,0,0,2920,2920,2920,2920,2920,2920,2920,0,0,0,2920,2920,0,0,0,0,0,0,2920,2920,2920,2920,0,0,0,0,2920,2920,2920,2920,0,0,0,0,2920,0,0,2920,2920,0,2920,0,2920,2920,2920,0,0,0,2920,0,0,2920,2920,0,2920,2920,0,2920,2920,0,2920,2920,2920,2920,0,0]}}