var sourceData125 = {"FileContents":["function [mlo, fieldnos] = bmmo_get_innerfields(mli, options)\r","% function [mlo, fieldnos] = bmmo_get_innerfields(mli, options)\r","%\r","% Wrapper for ovl_get_innerfields (while the required update is under CCB\r","% review)\r","% Return the fields with all marks within the radius options.edge_clearance\r","%\r","% Input:\r","%   mli: standard overlay structure\r","%   options: bmmo options structure as defined in\r","%       bmmo_default_options_structure/bl3_default_options_structure\r","%\r","% Output:\r","%   mlo: mli with fields with marks outside options.edge_clearance removed\r","%   fieldnos: the field selection from mli, such that mlo =\r","%       ovl_get_fields(mli, fieldnos)\r","%\r","% Eventually, this function can be replaced by this line\r","% [mlo, fieldnos] = ovl_get_innerfields(mli, 'radius', options.edge_clearance, 'marks');\r","\r","threshold = options.edge_clearance ^2;\r","\r","% reshape xw, yw to put fields in columns\r","xw = reshape(mli.wd.xw, mli.nmark, []);\r","yw = reshape(mli.wd.yw, mli.nmark, []);\r","\r","% get a squared distance matrix (since we're only interested in\r","% comparing with radius^2, we don't need to get the square root)\r","sqdist = xw.^2 +  yw.^2;\r","\r","% the inner fields are those columns for which every mark is within\r","% the threshold\r","fieldnos = find(all(sqdist < threshold));\r","\r","mlo = ovl_get_fields(mli, fieldnos);\r","\r","\r",""],"CoverageData":{"CoveredLineNumbers":[21,24,25,29,33,35],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,122,0,0,122,122,0,0,0,122,0,0,0,122,0,122,0,0,0]}}