var sourceData366 = {"FileContents":["function [fps_filtered, sbc_filtered, kpi] = bmmo_get_loop_kpi(input_structs, first_corr)\r","% function [fps_filtered, sbc_filtered, kpi] = bmmo_get_loop_kpi(input_structs, first_corr)\r","%\r","% Get SBC and KPI data for a sequence of BMMO-NXE input structures, with\r","% time filtering enabled. \r","%\r","% Input\r","%   input_structs: 1xn array of BMMO-NXE input structures\r","%\r","% Optional Input\r","%   first_corr: previous SBC2 correction for the first iteration in the loop (default:\r","%       neutral SBC2)\r","%\r","% Output:\r","%   fps_filtered: 1x(n+1) array of SBC2 fingerprint structures for each\r","%       iteration of the loop (including the previous SBC2 as element 1)\r","%   sbc: 1x(n+1) array of SBC2 corrections, including the previous\r","%       correction from iteration 1 as element 1\r","%   kpi: 1xn array of output KPI structures\r","%   \r","% 20171006 SBPR Creation\r","\r","if nargin < 2\r","    % create neutral SBC correction\r","    zero_out = bmmo_default_output_structure(bmmo_default_options_structure);\r","    first_corr = zero_out.corr;\r","end\r","sbc_filtered(1) = first_corr;\r","\r","h = waitbar(0/length(input_structs), 'Simulating BMMO-NXE control loop');\r","\r","for ii = 1:length(input_structs)   \r","    [fps_filtered(ii), tmp_sbc, kpi(ii)] = bmmo_get_filtered_sbc(input_structs(ii), sbc_filtered(ii), 1);      \r","    sbc_filtered(ii+1) = bmmo_update_corr_inlinesdm(tmp_sbc);\r","    waitbar(ii/length(input_structs), h);\r","end\r","\r","\r","fps_filtered(end+1) = bmmo_apply_SBC(input_structs(end), sbc_filtered(end)); \r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[23,25,26,28,30,32,33,34,35,39],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}