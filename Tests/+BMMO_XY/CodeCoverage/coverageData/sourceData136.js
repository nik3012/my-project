var sourceData136 = {"FileContents":["function [resinter, resbao, resintra] = bmmo_get_res_breakdown(model_residual, options)\r","% function [resinter, resbao, resintra] = bmmo_get_res_breakdown(model_residual, options)\r","%\r","% Get the interfield, intrafield and BAO KPI breakdown of input residual\r","%\r","% Input:\r","%   model_residual: ml structure\r","%   options: BMMO/BL3 options structure\r","%\r","% Output:\r","%   resinter: interfield residual KPI\r","%   resbao: BAO residual KPI\r","%   resintra: interfield residual KPI\r","\r","for chuck_id = options.chuck_usage.chuck_id_used\r","    \r","    wafers_chuck = find(options.chuck_usage.chuck_id == chuck_id);\r","    chuck_string = num2str(chuck_id);\r","    \r","    res_chuck(chuck_id) = ovl_get_wafers(model_residual, wafers_chuck);\r","    \r","    [~, pars] = ovl_model(bmmo_get_layout(res_chuck(chuck_id), options.reduced_reticle_layout, options));\r","    \r","    bao_res(chuck_id) = ovl_model(res_chuck(chuck_id), 'apply', pars, -1);\r","    \r","    intraf_total(chuck_id) = ovl_average_fields(ovl_average(ovl_get_fields(bao_res(chuck_id), options.fid_intrafield)));\r","    intraf_res(chuck_id) = ovl_sub_field(bao_res(chuck_id), intraf_total(chuck_id));\r","    \r","    [grid_res(chuck_id), xmirror_res(chuck_id), ymirror_res(chuck_id)] = ovl_model_mirrors(intraf_res(chuck_id),'scanner');\r","    overlay_this_chuck = ovl_calc_overlay(grid_res(chuck_id));\r","    \r","    resinter.(['ovl_grid_chk' chuck_string '_res_997_x'])      = overlay_this_chuck.ox997;\r","    resinter.(['ovl_grid_chk' chuck_string '_res_997_y'])      = overlay_this_chuck.oy997;\r","    resinter.(['ovl_exp_ytx_max_wafer_chk' chuck_string])  = max(abs(xmirror_res(chuck_id).dx));\r","    resinter.(['ovl_exp_xty_max_wafer_chk' chuck_string])  = max(abs(ymirror_res(chuck_id).dy));\r","end\r","\r","resbao = [];\r","resintra = []; % to be added in KPI3/4 update\r",""],"CoverageData":{"CoveredLineNumbers":[15,17,18,20,22,24,26,27,29,30,32,33,34,35,38,39],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,122,0,238,238,0,238,0,238,0,238,0,238,238,0,238,238,0,238,238,238,238,0,0,122,122,0]}}