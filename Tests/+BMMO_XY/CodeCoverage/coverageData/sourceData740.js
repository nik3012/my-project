var sourceData740 = {"FileContents":["function mlo = bmmo_ffp_to_ml(ffp, ml_tmp, options)\r","% function mlo = bmmo_fpp_to_ml(ffp, ml_tmp, options)\r","%\r","% Convert ffp (Field fingerprint from SBC2 correction structure) to ml\r","% structure. By default, a single-field 13x19 ml structure, 1 wafer per chuck, is\r","% created. Optionally, a template ml_tmp structure can be provided. The the ffp\r","% data will be mapped to the layout of ml_tmp, and the chuck corrections\r","% will be mapped to the wafers assuming starting chuck 1.\r","%\r","% Input:\r","%   ffp: 1x2 field fingerprint structure from SBC2 correction\r","% \r","% Optional input:\r","%   ml_tmp: template ml structure (default: single-layer, 2-wafer 13x19\r","%       structure)\r","%\r","%  Output:\r","%   mlo: ffp mapped to ml structure\r","%\r","% 20170601 SBPR Added documentation; Added multi-layer support\r","\r","\r","if nargin < 2\r","    % create a dummy ml_tmp\r","    ml_tmp.nwafer = 2;\r","    ml_tmp.wd.xc = zeros(size(ffp(1).x));\r","    ml_tmp.wd.yc = ml_tmp.wd.xc;\r","    ml_tmp.nfield = 1;\r","    ml_tmp.nlayer = 1;\r","    ml_tmp.nmark = length(ml_tmp.wd.xc);\r","    ml_tmp.tlgname = '';\r","end\r","    \r","if nargin < 3\r","   options.chuck_usage.chuck_id = ones(1, ml_tmp.nwafer);\r","   options.chuck_usage.chuck_id(2:2:end) = 2;\r","end\r","\r","mlo = ml_tmp;\r","if isfield(mlo.wd, 'xf')\r","    ffp = bmmo_map_ffp(mlo, ffp);\r","end\r","\r","mlo.wd.xf = repmat(ffp(1).x, ml_tmp.nfield, 1);\r","mlo.wd.yf = repmat(ffp(1).y, ml_tmp.nfield, 1);\r","mlo.wd.xw = mlo.wd.xf + mlo.wd.xc;\r","mlo.wd.yw = mlo.wd.yf + mlo.wd.yc;\r","\r","nl = mlo.nlayer;\r","\r","\r","for iw = 1:mlo.nwafer\r","        mlo.layer(nl).wr(iw).dx = repmat(ffp(options.chuck_usage.chuck_id(iw)).dx, mlo.nfield, 1);\r","        mlo.layer(nl).wr(iw).dy = repmat(ffp(options.chuck_usage.chuck_id(iw)).dy, mlo.nfield, 1);\r","end\r","\r","\r","\r",""],"CoverageData":{"CoveredLineNumbers":[23,25,26,27,28,29,30,31,34,35,36,39,40,41,44,45,46,47,49,52,53,54],"UnhitLineNumbers":[],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,37,37,37,37,37,37,37,0,0,38,38,38,0,0,38,38,1,0,0,38,38,38,38,0,38,0,0,38,80,80,0,0,0,0,0]}}