var sourceData538 = {"FileContents":["function bmmo_ADEL_SBC_wrapper(input_dir, template_dir, output_dir)\r","% function bmmo_ADEL_SBC_wrapper(input_dir, template_dir, output_dir)\r","%\r","% Wrapper for bmmo_create_ADEL_SBC which is called from automation loop\r","% shell script\r","%\r","% Input:\r","%   input_dir: directory with injected drift data containing either xml SBC file\r","%           or sbc correction in Matlab format\r","%   template_dir: directory containing ADEL SBC file to use as template\r","%   output_dir: directory to write output file \r","\r","\r","% look in input_dir for \r","% - ADEL sbc xml file to inject\r","% - .mat file with sbc correction\r","files = dir(input_dir);\r","filenames = {files.name};\r","sbc = [];\r","found = 0;\r","ii = 1;\r","while found == 0 && ii <= length(filenames) \r","    [a, b, c] = fileparts(filenames{ii});\r","    if strcmp(c, 'xml')\r","       try\r","           sbc = bmmo_kt_process_SBC2(filenames{ii});\r","           disp('Found valid XML ADEL SBC drift file %s', filenames{ii});\r","           found = 1;\r","       catch err\r","           sbc = [];\r","       end\r","    elseif strcmp(c, 'mat')\r","        matlist = whos('-file', filenames{ii});\r","        matnames = {matlist.name};\r","        sbcind = find(strcmp(matnames, 'sbc'));\r","        if ~isempty(sbcind)\r","            sbc = load(filenames{ii}, matnames{sbcind});\r","            disp('Found SBC drift file %s', filenames{ii});\r","        end\r","    end\r","    ii = ii + 1;\r","end\r","\r","\r","% look in template dir for ADEL sbc xml file\r","sbcfile = bmmo_find_adel_SBC_xml(template_dir);\r","if ~isempty(sbcfile)\r","    disp('Found valid XML ADEL SBC template file %s', sbcfile);\r","else\r","    error('No valid XML template SBC file found');\r","end\r","\r","% Initialize the output filename\r","outfilename = [output_dir filesep 'ADELsbcOverlayDriftControlNxe.xml'];\r","\r","% create the ADEL SBC file\r","bmmo_create_ADEL_SBC(sbcfile, outfilename, sbc);\r","\r",""],"CoverageData":{"CoveredLineNumbers":[],"UnhitLineNumbers":[17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,41,46,47,48,49,50,54,57],"HitCount":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}